(function(){function aq(b){function a(g,h,j,d,f,k){for(;f>=0&&k>f;f+=b){var c=d?d[f]:f;j=h(j,g[c],c,g)}return j}return function(h,j,f,g){j=aD(j,g,4);var k=!au(h)&&ar.keys(h),d=(k||h).length,l=b>0?0:d-1;return arguments.length<3&&(f=h[k?k[l]:l],l+=b),a(h,j,f,k,l,d)}}function ak(a){return function(d,f,g){f=ag(f,g);for(var b=Q(d),c=a>0?0:b-1;c>=0&&b>c;c+=a){if(f(d[c],c,d)){return c}}return -1}}function am(c,a,b){return function(h,f,g){var j=0,d=Q(h);if("number"==typeof g){c>0?j=g>=0?g:Math.max(g+d,j):d=g>=0?Math.min(g+1,d):g+d+1}else{if(b&&g&&d){return g=b(h,f),h[g]===f?g:-1}}if(f!==f){return g=a(at.call(h,j,d),ar.isNaN),g>=0?g+j:-1}for(g=c>0?j:d-1;g>=0&&d>g;g+=c){if(h[g]===f){return g}}return -1}}function aA(g,c){var d=Y.length,f=g.constructor,a=ar.isFunction(f)&&f.prototype||aE,b="constructor";for(ar.has(g,b)&&!ar.contains(c,b)&&c.push(b);d--;){b=Y[d],b in g&&g[b]!==a[b]&&!ar.contains(c,b)&&c.push(b)}}var aj=this,aw=aj._,ap=Array.prototype,aE=Object.prototype,aC=Function.prototype,az=ap.push,at=ap.slice,al=aE.toString,ao=aE.hasOwnProperty,ax=Array.isArray,ai=Object.keys,ay=aC.bind,af=Object.create,aB=function(){},ar=function(a){return a instanceof ar?a:this instanceof ar?void (this._wrapped=a):new ar(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=ar),exports._=ar):aj._=ar,ar.VERSION="1.8.3";var aD=function(c,a,b){if(a===void 0){return c}switch(null==b?3:b){case 1:return function(d){return c.call(a,d)};case 2:return function(d,f){return c.call(a,d,f)};case 3:return function(f,g,d){return c.call(a,f,g,d)};case 4:return function(g,h,d,f){return c.call(a,g,h,d,f)}}return function(){return c.apply(a,arguments)}},ag=function(c,a,b){return null==c?ar.identity:ar.isFunction(c)?aD(c,a,b):ar.isObject(c)?ar.matcher(c):ar.property(c)};ar.iteratee=function(b,a){return ag(b,a,1/0)};var aF=function(b,a){return function(j){var l=arguments.length;if(2>l||null==j){return j}for(var g=1;l>g;g++){for(var h=arguments[g],m=b(h),d=m.length,n=0;d>n;n++){var k=m[n];a&&j[k]!==void 0||(j[k]=h[k])}}return j}},av=function(b){if(!ar.isObject(b)){return{}}if(af){return af(b)}aB.prototype=b;var a=new aB;return aB.prototype=null,a},ah=function(a){return function(b){return null==b?void 0:b[a]}},ad=Math.pow(2,53)-1,Q=ah("length"),au=function(b){var a=Q(b);return"number"==typeof a&&a>=0&&ad>=a};ar.each=ar.forEach=function(g,c,d){c=aD(c,d);var f,a;if(au(g)){for(f=0,a=g.length;a>f;f++){c(g[f],f,g)}}else{var b=ar.keys(g);for(f=0,a=b.length;a>f;f++){c(g[b[f]],b[f],g)}}return g},ar.map=ar.collect=function(k,f,g){f=ag(f,g);for(var h=!au(k)&&ar.keys(k),c=(h||k).length,d=Array(c),j=0;c>j;j++){var b=h?h[j]:j;d[j]=f(k[b],b,k)}return d},ar.reduce=ar.foldl=ar.inject=aq(1),ar.reduceRight=ar.foldr=aq(-1),ar.find=ar.detect=function(d,a,b){var c;return c=au(d)?ar.findIndex(d,a,b):ar.findKey(d,a,b),c!==void 0&&c!==-1?d[c]:void 0},ar.filter=ar.select=function(d,a,b){var c=[];return a=ag(a,b),ar.each(d,function(g,f,e){a(g,f,e)&&c.push(g)}),c},ar.reject=function(c,a,b){return ar.filter(c,ar.negate(ag(a)),b)},ar.every=ar.all=function(h,c,d){c=ag(c,d);for(var f=!au(h)&&ar.keys(h),a=(f||h).length,b=0;a>b;b++){var g=f?f[b]:b;if(!c(h[g],g,h)){return !1}}return !0},ar.some=ar.any=function(h,c,d){c=ag(c,d);for(var f=!au(h)&&ar.keys(h),a=(f||h).length,b=0;a>b;b++){var g=f?f[b]:b;if(c(h[g],g,h)){return !0}}return !1},ar.contains=ar.includes=ar.include=function(d,a,b,c){return au(d)||(d=ar.values(d)),("number"!=typeof b||c)&&(b=0),ar.indexOf(d,a,b)>=0},ar.invoke=function(d,a){var b=at.call(arguments,2),c=ar.isFunction(a);return ar.map(d,function(f){var e=c?a:f[a];return null==e?e:e.apply(f,b)})},ar.pluck=function(b,a){return ar.map(b,ar.property(a))},ar.where=function(b,a){return ar.filter(b,ar.matcher(a))},ar.findWhere=function(b,a){return ar.find(b,ar.matcher(a))},ar.max=function(f,m,b){var h,l,g=-1/0,d=-1/0;if(null==m&&null!=f){f=au(f)?f:ar.values(f);for(var k=0,j=f.length;j>k;k++){h=f[k],h>g&&(g=h)}}else{m=ag(m,b),ar.each(f,function(i,a,c){l=m(i,a,c),(l>d||l===-1/0&&g===-1/0)&&(g=i,d=l)})}return g},ar.min=function(f,m,b){var h,l,g=1/0,d=1/0;if(null==m&&null!=f){f=au(f)?f:ar.values(f);for(var k=0,j=f.length;j>k;k++){h=f[k],g>h&&(g=h)}}else{m=ag(m,b),ar.each(f,function(i,a,c){l=m(i,a,c),(d>l||1/0===l&&1/0===g)&&(g=i,d=l)})}return g},ar.shuffle=function(g){for(var c,d=au(g)?g:ar.values(g),f=d.length,a=Array(f),b=0;f>b;b++){c=ar.random(0,b),c!==b&&(a[b]=a[c]),a[c]=d[b]}return a},ar.sample=function(c,a,b){return null==a||b?(au(c)||(c=ar.values(c)),c[ar.random(c.length-1)]):ar.shuffle(c).slice(0,Math.max(0,a))},ar.sortBy=function(c,a,b){return a=ag(a,b),ar.pluck(ar.map(c,function(g,d,f){return{value:g,index:d,criteria:a(g,d,f)}}).sort(function(h,d){var f=h.criteria,g=d.criteria;if(f!==g){if(f>g||f===void 0){return 1}if(g>f||g===void 0){return -1}}return h.index-d.index}),"value")};var Z=function(a){return function(c,d,f){var b={};return d=ag(d,f),ar.each(c,function(h,g){var j=d(h,g,c);a(b,h,j)}),b}};ar.groupBy=Z(function(c,a,b){ar.has(c,b)?c[b].push(a):c[b]=[a]}),ar.indexBy=Z(function(c,a,b){c[b]=a}),ar.countBy=Z(function(c,a,b){ar.has(c,b)?c[b]++:c[b]=1}),ar.toArray=function(a){return a?ar.isArray(a)?at.call(a):au(a)?ar.map(a,ar.identity):ar.values(a):[]},ar.size=function(a){return null==a?0:au(a)?a.length:ar.keys(a).length},ar.partition=function(f,b,c){b=ag(b,c);var d=[],a=[];return ar.each(f,function(h,g,e){(b(h,g,e)?d:a).push(h)}),[d,a]},ar.first=ar.head=ar.take=function(c,a,b){return null==c?void 0:null==a||b?c[0]:ar.initial(c,c.length-a)},ar.initial=function(c,a,b){return at.call(c,0,Math.max(0,c.length-(null==a||b?1:a)))},ar.last=function(c,a,b){return null==c?void 0:null==a||b?c[c.length-1]:ar.rest(c,Math.max(0,c.length-a))},ar.rest=ar.tail=ar.drop=function(c,a,b){return at.call(c,null==a||b?1:a)},ar.compact=function(a){return ar.filter(a,ar.identity)};var G=function(g,v,b,m){for(var s=[],j=0,d=m||0,q=Q(g);q>d;d++){var p=g[d];if(au(p)&&(ar.isArray(p)||ar.isArguments(p))){v||(p=G(p,v,b));var k=0,h=p.length;for(s.length+=h;h>k;){s[j++]=p[k++]}}else{b||(s[j++]=p)}}return s};ar.flatten=function(b,a){return G(b,a,!1)},ar.without=function(a){return ar.difference(a,at.call(arguments,1))},ar.uniq=ar.unique=function(g,q,b,k){ar.isBoolean(q)||(k=b,b=q,q=!1),null!=b&&(b=ag(b,k));for(var p=[],h=[],d=0,m=Q(g);m>d;d++){var l=g[d],j=b?b(l,d,g):l;q?(d&&h===j||p.push(l),h=j):b?ar.contains(h,j)||(h.push(j),p.push(l)):ar.contains(p,l)||p.push(l)}return p},ar.union=function(){return ar.uniq(G(arguments,!0,!0))},ar.intersection=function(h){for(var c=[],d=arguments.length,f=0,a=Q(h);a>f;f++){var b=h[f];if(!ar.contains(c,b)){for(var g=1;d>g&&ar.contains(arguments[g],b);g++){}g===d&&c.push(b)}}return c},ar.difference=function(b){var a=G(arguments,!0,!0,1);return ar.filter(b,function(c){return !ar.contains(a,c)})},ar.zip=function(){return ar.unzip(arguments)},ar.unzip=function(d){for(var a=d&&ar.max(d,Q).length||0,b=Array(a),c=0;a>c;c++){b[c]=ar.pluck(d,c)}return b},ar.object=function(f,b){for(var c={},d=0,a=Q(f);a>d;d++){b?c[f[d]]=b[d]:c[f[d][0]]=f[d][1]}return c},ar.findIndex=ak(1),ar.findLastIndex=ak(-1),ar.sortedIndex=function(k,f,g,h){g=ag(g,h,1);for(var c=g(f),d=0,j=Q(k);j>d;){var b=Math.floor((d+j)/2);g(k[b])<c?d=b+1:j=b}return d},ar.indexOf=am(1,ar.findIndex,ar.sortedIndex),ar.lastIndexOf=am(-1,ar.findLastIndex),ar.range=function(g,c,d){null==c&&(c=g||0,g=0),d=d||1;for(var f=Math.max(Math.ceil((c-g)/d),0),a=Array(f),b=0;f>b;b++,g+=d){a[b]=g}return a};var aa=function(h,c,d,f,a){if(!(f instanceof c)){return h.apply(d,a)}var b=av(h.prototype),g=h.apply(b,a);return ar.isObject(g)?g:b};ar.bind=function(d,a){if(ay&&d.bind===ay){return ay.apply(d,at.call(arguments,1))}if(!ar.isFunction(d)){throw new TypeError("Bind must be called on a function")}var b=at.call(arguments,2),c=function(){return aa(d,c,a,this,b.concat(at.call(arguments)))};return c},ar.partial=function(c){var a=at.call(arguments,1),b=function(){for(var g=0,d=a.length,f=Array(d),h=0;d>h;h++){f[h]=a[h]===ar?arguments[g++]:a[h]}for(;g<arguments.length;){f.push(arguments[g++])}return aa(c,b,this,this,f)};return b},ar.bindAll=function(d){var a,b,c=arguments.length;if(1>=c){throw new Error("bindAll must be passed function names")}for(a=1;c>a;a++){b=arguments[a],d[b]=ar.bind(d[b],d)}return d},ar.memoize=function(c,a){var b=function(g){var d=b.cache,f=""+(a?a.apply(this,arguments):g);return ar.has(d,f)||(d[f]=c.apply(this,arguments)),d[f]};return b.cache={},b},ar.delay=function(c,a){var b=at.call(arguments,2);return setTimeout(function(){return c.apply(null,b)},a)},ar.defer=ar.partial(ar.delay,ar,1),ar.throttle=function(f,m,b){var h,l,g,d=null,k=0;b||(b={});var j=function(){k=b.leading===!1?0:ar.now(),d=null,g=f.apply(h,l),d||(h=l=null)};return function(){var c=ar.now();k||b.leading!==!1||(k=c);var a=m-(c-k);return h=this,l=arguments,0>=a||a>m?(d&&(clearTimeout(d),d=null),k=c,g=f.apply(h,l),d||(h=l=null)):d||b.trailing===!1||(d=setTimeout(j,a)),g}},ar.debounce=function(f,m,b){var h,l,g,d,k,j=function(){var a=ar.now()-d;m>a&&a>=0?h=setTimeout(j,m-a):(h=null,b||(k=f.apply(g,l),h||(g=l=null)))};return function(){g=this,l=arguments,d=ar.now();var a=b&&!h;return h||(h=setTimeout(j,m)),a&&(k=f.apply(g,l),g=l=null),k}},ar.wrap=function(b,a){return ar.partial(a,b)},ar.negate=function(a){return function(){return !a.apply(this,arguments)}},ar.compose=function(){var b=arguments,a=b.length-1;return function(){for(var c=a,d=b[a].apply(this,arguments);c--;){d=b[c].call(this,d)}return d}},ar.after=function(b,a){return function(){return --b<1?a.apply(this,arguments):void 0}},ar.before=function(c,a){var b;return function(){return --c>0&&(b=a.apply(this,arguments)),1>=c&&(a=null),b}},ar.once=ar.partial(ar.before,2);var V=!{toString:null}.propertyIsEnumerable("toString"),Y=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];ar.keys=function(c){if(!ar.isObject(c)){return[]}if(ai){return ai(c)}var a=[];for(var b in c){ar.has(c,b)&&a.push(b)}return V&&aA(c,a),a},ar.allKeys=function(c){if(!ar.isObject(c)){return[]}var a=[];for(var b in c){a.push(b)}return V&&aA(c,a),a},ar.values=function(f){for(var b=ar.keys(f),c=b.length,d=Array(c),a=0;c>a;a++){d[a]=f[b[a]]}return d},ar.mapObject=function(k,f,g){f=ag(f,g);for(var h,c=ar.keys(k),d=c.length,j={},b=0;d>b;b++){h=c[b],j[h]=f(k[h],h,k)}return j},ar.pairs=function(f){for(var b=ar.keys(f),c=b.length,d=Array(c),a=0;c>a;a++){d[a]=[b[a],f[b[a]]]}return d},ar.invert=function(f){for(var b={},c=ar.keys(f),d=0,a=c.length;a>d;d++){b[f[c[d]]]=c[d]}return b},ar.functions=ar.methods=function(c){var a=[];for(var b in c){ar.isFunction(c[b])&&a.push(b)}return a.sort()},ar.extend=aF(ar.allKeys),ar.extendOwn=ar.assign=aF(ar.keys),ar.findKey=function(h,c,d){c=ag(c,d);for(var f,a=ar.keys(h),b=0,g=a.length;g>b;b++){if(f=a[b],c(h[f],f,h)){return f}}},ar.pick=function(g,v,b){var m,s,j={},d=g;if(null==d){return j}ar.isFunction(v)?(s=ar.allKeys(d),m=aD(v,b)):(s=G(arguments,!1,!1,1),m=function(e,a,c){return a in c},d=Object(d));for(var q=0,p=s.length;p>q;q++){var k=s[q],h=d[k];m(h,k,d)&&(j[k]=h)}return j},ar.omit=function(d,a,b){if(ar.isFunction(a)){a=ar.negate(a)}else{var c=ar.map(G(arguments,!1,!1,1),String);a=function(f,e){return !ar.contains(c,e)}}return ar.pick(d,a,b)},ar.defaults=aF(ar.allKeys,!0),ar.create=function(c,a){var b=av(c);return a&&ar.extendOwn(b,a),b},ar.clone=function(a){return ar.isObject(a)?ar.isArray(a)?a.slice():ar.extend({},a):a},ar.tap=function(b,a){return a(b),b},ar.isMatch=function(h,c){var d=ar.keys(c),f=d.length;if(null==h){return !f}for(var a=Object(h),b=0;f>b;b++){var g=d[b];if(c[g]!==a[g]||!(g in a)){return !1}}return !0};var U=function(g,v,b,m){if(g===v){return 0!==g||1/g===1/v}if(null==g||null==v){return g===v}g instanceof ar&&(g=g._wrapped),v instanceof ar&&(v=v._wrapped);var s=al.call(g);if(s!==al.call(v)){return !1}switch(s){case"[object RegExp]":case"[object String]":return""+g==""+v;case"[object Number]":return +g!==+g?+v!==+v:0===+g?1/+g===1/v:+g===+v;case"[object Date]":case"[object Boolean]":return +g===+v}var j="[object Array]"===s;if(!j){if("object"!=typeof g||"object"!=typeof v){return !1}var d=g.constructor,q=v.constructor;if(d!==q&&!(ar.isFunction(d)&&d instanceof d&&ar.isFunction(q)&&q instanceof q)&&"constructor" in g&&"constructor" in v){return !1}}b=b||[],m=m||[];for(var p=b.length;p--;){if(b[p]===g){return m[p]===v}}if(b.push(g),m.push(v),j){if(p=g.length,p!==v.length){return !1}for(;p--;){if(!U(g[p],v[p],b,m)){return !1}}}else{var k,h=ar.keys(g);if(p=h.length,ar.keys(v).length!==p){return !1}for(;p--;){if(k=h[p],!ar.has(v,k)||!U(g[k],v[k],b,m)){return !1}}}return b.pop(),m.pop(),!0};ar.isEqual=function(b,a){return U(b,a)},ar.isEmpty=function(a){return null==a?!0:au(a)&&(ar.isArray(a)||ar.isString(a)||ar.isArguments(a))?0===a.length:0===ar.keys(a).length},ar.isElement=function(a){return !(!a||1!==a.nodeType)},ar.isArray=ax||function(a){return"[object Array]"===al.call(a)},ar.isObject=function(b){var a=typeof b;return"function"===a||"object"===a&&!!b},ar.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){ar["is"+a]=function(b){return al.call(b)==="[object "+a+"]"}}),ar.isArguments(arguments)||(ar.isArguments=function(a){return ar.has(a,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(ar.isFunction=function(a){return"function"==typeof a||!1}),ar.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},ar.isNaN=function(a){return ar.isNumber(a)&&a!==+a},ar.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===al.call(a)},ar.isNull=function(a){return null===a},ar.isUndefined=function(a){return a===void 0},ar.has=function(b,a){return null!=b&&ao.call(b,a)},ar.noConflict=function(){return aj._=aw,this},ar.identity=function(a){return a},ar.constant=function(a){return function(){return a}},ar.noop=function(){},ar.property=ah,ar.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},ar.matcher=ar.matches=function(a){return a=ar.extendOwn({},a),function(b){return ar.isMatch(b,a)}},ar.times=function(f,b,c){var d=Array(Math.max(0,f));b=aD(b,c,1);for(var a=0;f>a;a++){d[a]=b(a)}return d},ar.random=function(b,a){return null==a&&(a=b,b=0),b+Math.floor(Math.random()*(a-b+1))},ar.now=Date.now||function(){return(new Date).getTime()};var ac={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},C=ar.invert(ac),H=function(f){var b=function(e){return f[e]},c="(?:"+ar.keys(f).join("|")+")",d=RegExp(c),a=RegExp(c,"g");return function(e){return e=null==e?"":""+e,d.test(e)?e.replace(a,b):e}};ar.escape=H(ac),ar.unescape=H(C),ar.result=function(d,a,b){var c=null==d?void 0:d[a];return c===void 0&&(c=b),ar.isFunction(c)?c.call(d):c};var an=0;ar.uniqueId=function(b){var a=++an+"";return b?b+a:a},ar.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var X=/(.)^/,ae={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},ab=/\\|'|\r|\n|\u2028|\u2029/g,W=function(a){return"\\"+ae[a]};ar.template=function(g,q,b){!q&&b&&(q=b),q=ar.defaults({},q,ar.templateSettings);var k=RegExp([(q.escape||X).source,(q.interpolate||X).source,(q.evaluate||X).source].join("|")+"|$","g"),p=0,h="__p+='";g.replace(k,function(f,i,n,s,c){return h+=g.slice(p,c).replace(ab,W),p=c+f.length,i?h+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?h+="'+\n((__t=("+n+"))==null?'':__t)+\n'":s&&(h+="';\n"+s+"\n__p+='"),f}),h+="';\n",q.variable||(h="with(obj||{}){\n"+h+"}\n"),h="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+h+"return __p;\n";try{var d=new Function(q.variable||"obj","_",h)}catch(m){throw m.source=h,m}var l=function(a){return d.call(this,a,ar)},j=q.variable||"obj";return l.source="function("+j+"){\n"+h+"}",l},ar.chain=function(b){var a=ar(b);return a._chain=!0,a};var J=function(b,a){return b._chain?ar(a).chain():a};ar.mixin=function(a){ar.each(ar.functions(a),function(b){var c=ar[b]=a[b];ar.prototype[b]=function(){var d=[this._wrapped];return az.apply(d,arguments),J(this,c.apply(ar,d))}})},ar.mixin(ar),ar.each(["pop","push","reverse","shift","sort","splice","unshift"],function(b){var a=ap[b];ar.prototype[b]=function(){var c=this._wrapped;return a.apply(c,arguments),"shift"!==b&&"splice"!==b||0!==c.length||delete c[0],J(this,c)}}),ar.each(["concat","join","slice"],function(b){var a=ap[b];ar.prototype[b]=function(){return J(this,a.apply(this._wrapped,arguments))}}),ar.prototype.value=function(){return this._wrapped},ar.prototype.valueOf=ar.prototype.toJSON=ar.prototype.value,ar.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return ar})}).call(this);(function(b){var f=typeof self=="object"&&self.self==self&&self||typeof global=="object"&&global.global==global&&global;if(typeof define==="function"&&define.amd){define(["underscore","jquery","exports"],function(e,h,g){f.Backbone=b(f,g,e,h)})}else{if(typeof exports!=="undefined"){var a=require("underscore"),d;try{d=require("jquery")}catch(c){}b(f,exports,a,d)}else{f.Backbone=b(f,{},f._,f.jQuery||f.Zepto||f.ender||f.$)}}})(function(af,av,aq,ah){var ag=af.Backbone;var al=[].slice;av.VERSION="1.2.1";av.$=ah;av.noConflict=function(){af.Backbone=ag;return this};av.emulateHTTP=false;av.emulateJSON=false;var az=function(a,c,b){switch(a){case 1:return function(){return aq[c](this[b])};case 2:return function(d){return aq[c](this[b],d)};case 3:return function(d,e){return aq[c](this[b],d,e)};case 4:return function(d,e,f){return aq[c](this[b],d,e,f)};default:return function(){var d=al.call(arguments);d.unshift(this[b]);return aq[c].apply(aq,d)}}};var ak=function(a,c,b){aq.each(c,function(f,d){if(aq[d]){a.prototype[d]=az(f,d,b)}})};var ar=av.Events={};var ae=/\s+/;var an=function(c,g,f,d,i){var b=0,h;if(f&&typeof f==="object"){if(d!==void 0&&"context" in i&&i.context===void 0){i.context=d}for(h=aq.keys(f);b<h.length;b++){g=c(g,h[b],f[h[b]],i)}}else{if(f&&ae.test(f)){for(h=f.split(ae);b<h.length;b++){g=c(g,h[b],d,i)}}else{g=c(g,f,d,i)}}return g};ar.on=function(b,c,a){return ax(this,b,c,a)};var ax=function(b,f,a,d,c){b._events=an(au,b._events||{},f,a,{context:d,ctx:b,listening:c});if(c){var g=b._listeners||(b._listeners={});g[c.id]=c}return b};ar.listenTo=function(c,g,f){if(!c){return this}var d=c._listenId||(c._listenId=aq.uniqueId("l"));var i=this._listeningTo||(this._listeningTo={});var b=i[d];if(!b){var h=this._listenId||(this._listenId=aq.uniqueId("l"));b=i[d]={obj:c,objId:d,id:h,listeningTo:i,count:0}}ax(c,g,f,this,b);return this};var au=function(d,h,c,g){if(c){var f=d[h]||(d[h]=[]);var k=g.context,b=g.ctx,j=g.listening;if(j){j.count++}f.push({callback:c,context:k,ctx:k||b,listening:j})}return d};ar.off=function(b,c,a){if(!this._events){return this}this._events=an(aw,this._events,b,c,{context:a,listeners:this._listeners});return this};ar.stopListening=function(c,g,f){var d=this._listeningTo;if(!d){return this}var i=c?[c._listenId]:aq.keys(d);for(var b=0;b<i.length;b++){var h=d[i[b]];if(!h){break}h.obj.off(g,f,this)}if(aq.isEmpty(d)){this._listeningTo=void 0}return this};var aw=function(C,p,b,E){if(!C){return}var i=0,x;var g=E.context,k=E.listeners;if(!p&&!b&&!g){var A=aq.keys(k);for(;i<A.length;i++){x=k[A[i]];delete k[x.id];delete x.listeningTo[x.objId]}return}var j=p?[p]:aq.keys(C);for(;i<j.length;i++){p=j[i];var w=C[p];if(!w){break}var m=[];for(var q=0;q<w.length;q++){var y=w[q];if(b&&b!==y.callback&&b!==y.callback._callback||g&&g!==y.context){m.push(y)}else{x=y.listening;if(x&&--x.count===0){delete k[x.id];delete x.listeningTo[x.objId]}}}if(m.length){C[p]=m}else{delete C[p]}}if(aq.size(C)){return C}};ar.once=function(a,d,c){var b=an(ad,{},a,d,aq.bind(this.off,this));return this.on(b,void 0,c)};ar.listenToOnce=function(a,d,c){var b=an(ad,{},d,c,aq.bind(this.stopListening,this,a));return this.listenTo(a,b)};var ad=function(a,d,c,b){if(c){var f=a[d]=aq.once(function(){b(d,f);c.apply(this,arguments)});f._callback=c}return a};ar.trigger=function(b){if(!this._events){return this}var d=Math.max(0,arguments.length-1);var a=Array(d);for(var c=0;c<d;c++){a[c]=arguments[c+1]}an(at,this._events,b,void 0,a);return this};var at=function(b,f,a,d){if(b){var c=b[f];var g=b.all;if(c&&g){g=g.slice()}if(c){aj(c,d)}if(g){aj(g,[f].concat(d))}}return b};var aj=function(d,h){var c,g=-1,f=d.length,k=h[0],b=h[1],j=h[2];switch(h.length){case 0:while(++g<f){(c=d[g]).callback.call(c.ctx)}return;case 1:while(++g<f){(c=d[g]).callback.call(c.ctx,k)}return;case 2:while(++g<f){(c=d[g]).callback.call(c.ctx,k,b)}return;case 3:while(++g<f){(c=d[g]).callback.call(c.ctx,k,b,j)}return;default:while(++g<f){(c=d[g]).callback.apply(c.ctx,h)}return}};ar.bind=ar.on;ar.unbind=ar.off;aq.extend(av,ar);var am=av.Model=function(a,c){var b=a||{};c||(c={});this.cid=aq.uniqueId(this.cidPrefix);this.attributes={};if(c.collection){this.collection=c.collection}if(c.parse){b=this.parse(b,c)||{}}b=aq.defaults({},b,aq.result(this,"defaults"));this.set(b,c);this.changed={};this.initialize.apply(this,arguments)};aq.extend(am.prototype,ar,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(a){return aq.clone(this.attributes)},sync:function(){return av.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return aq.escape(this.get(a))},has:function(a){return this.get(a)!=null},matches:function(a){return !!aq.iteratee(a,this)(this.attributes)},set:function(y,p,b){if(y==null){return this}var A;if(typeof y==="object"){A=y;b=p}else{(A={})[y]=p}b||(b={});if(!this._validate(A,b)){return false}var i=b.unset;var w=b.silent;var g=[];var k=this._changing;this._changing=true;if(!k){this._previousAttributes=aq.clone(this.attributes);this.changed={}}var x=this.attributes;var j=this.changed;var v=this._previousAttributes;if(this.idAttribute in A){this.id=A[this.idAttribute]}for(var m in A){p=A[m];if(!aq.isEqual(x[m],p)){g.push(m)}if(!aq.isEqual(v[m],p)){j[m]=p}else{delete j[m]}i?delete x[m]:x[m]=p}if(!w){if(g.length){this._pending=b}for(var q=0;q<g.length;q++){this.trigger("change:"+g[q],this,x[g[q]],b)}}if(k){return this}if(!w){while(this._pending){b=this._pending;this._pending=false;this.trigger("change",this,b)}}this._pending=false;this._changing=false;return this},unset:function(a,b){return this.set(a,void 0,aq.extend({},b,{unset:true}))},clear:function(a){var c={};for(var b in this.attributes){c[b]=void 0}return this.set(c,aq.extend({},a,{unset:true}))},hasChanged:function(a){if(a==null){return !aq.isEmpty(this.changed)}return aq.has(this.changed,a)},changedAttributes:function(a){if(!a){return this.hasChanged()?aq.clone(this.changed):false}var d=this._changing?this._previousAttributes:this.attributes;var c={};for(var b in a){var f=a[b];if(aq.isEqual(d[b],f)){continue}c[b]=f}return aq.size(c)?c:false},previous:function(a){if(a==null||!this._previousAttributes){return null}return this._previousAttributes[a]},previousAttributes:function(){return aq.clone(this._previousAttributes)},fetch:function(a){a=aq.extend({parse:true},a);var c=this;var b=a.success;a.success=function(d){var e=a.parse?c.parse(d,a):d;if(!c.set(e,a)){return false}if(b){b.call(a.context,c,d,a)}c.trigger("sync",c,d,a)};ai(this,a);return this.sync("read",this,a)},save:function(m,i,b){var p;if(m==null||typeof m==="object"){p=m;b=i}else{(p={})[m]=i}b=aq.extend({validate:true,parse:true},b);var d=b.wait;if(p&&!d){if(!this.set(p,b)){return false}}else{if(!this._validate(p,b)){return false}}var j=this;var c=b.success;var g=this.attributes;b.success=function(a){j.attributes=g;var h=b.parse?j.parse(a,b):a;if(d){h=aq.extend({},p,h)}if(h&&!j.set(h,b)){return false}if(c){c.call(b.context,j,a,b)}j.trigger("sync",j,a,b)};ai(this,b);if(p&&d){this.attributes=aq.extend({},g,p)}var k=this.isNew()?"create":b.patch?"patch":"update";if(k==="patch"&&!b.attrs){b.attrs=p}var f=this.sync(k,this,b);this.attributes=g;return f},destroy:function(c){c=c?aq.clone(c):{};var g=this;var f=c.success;var d=c.wait;var h=function(){g.stopListening();g.trigger("destroy",g,g.collection,c)};c.success=function(a){if(d){h()}if(f){f.call(c.context,g,a,c)}if(!g.isNew()){g.trigger("sync",g,a,c)}};var b=false;if(this.isNew()){aq.defer(c.success)}else{ai(this,c);b=this.sync("delete",this,c)}if(!d){h()}return b},url:function(){var a=aq.result(this,"urlRoot")||aq.result(this.collection,"url")||L();if(this.isNew()){return a}var b=this.get(this.idAttribute);return a.replace(/[^\/]$/,"$&/")+encodeURIComponent(b)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return !this.has(this.idAttribute)},isValid:function(a){return this._validate({},aq.defaults({validate:true},a))},_validate:function(a,c){if(!c.validate||!this.validate){return true}a=aq.extend({},this.attributes,a);var b=this.validationError=this.validate(a,c)||null;if(!b){return true}this.trigger("invalid",this,b,aq.extend(c,{validationError:b}));return false}});var aA={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};ak(am,aA,"attributes");var aa=av.Collection=function(a,b){b||(b={});if(b.model){this.model=b.model}if(b.comparator!==void 0){this.comparator=b.comparator}this._reset();this.initialize.apply(this,arguments);if(a){this.reset(a,aq.extend({silent:true},b))}};var ay={add:true,remove:true,merge:true};var ab={add:true,remove:false};aq.extend(aa.prototype,ar,{model:am,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return av.sync.apply(this,arguments)},add:function(a,b){return this.set(a,aq.extend({merge:false},b,ab))},remove:function(a,d){d=aq.extend({},d);var c=!aq.isArray(a);a=c?[a]:aq.clone(a);var b=this._removeModels(a,d);if(!d.silent&&b){this.trigger("update",this,d)}return c?b[0]:b},set:function(C,aB){aB=aq.defaults({},aB,ay);if(aB.parse&&!this._isModel(C)){C=this.parse(C,aB)}var I=!aq.isArray(C);C=I?C?[C]:[]:C.slice();var H,O,aE,N,S;var q=aB.at;if(q!=null){q=+q}if(q<0){q+=this.length+1}var R=this.comparator&&q==null&&aB.sort!==false;var aD=aq.isString(this.comparator)?this.comparator:null;var U=[],aC=[],k={};var T=aB.add,M=aB.merge,P=aB.remove;var aF=!R&&T&&P?[]:false;var b=false;for(var i=0;i<C.length;i++){aE=C[i];if(N=this.get(aE)){if(P){k[N.cid]=true}if(M&&aE!==N){aE=this._isModel(aE)?aE.attributes:aE;if(aB.parse){aE=N.parse(aE,aB)}N.set(aE,aB);if(R&&!S&&N.hasChanged(aD)){S=true}}C[i]=N}else{if(T){O=C[i]=this._prepareModel(aE,aB);if(!O){continue}U.push(O);this._addReference(O,aB)}}O=N||O;if(!O){continue}H=this.modelId(O.attributes);if(aF&&(O.isNew()||!k[H])){aF.push(O);b=b||!this.models[i]||O.cid!==this.models[i].cid}k[H]=true}if(P){for(var i=0;i<this.length;i++){if(!k[(O=this.models[i]).cid]){aC.push(O)}}if(aC.length){this._removeModels(aC,aB)}}if(U.length||b){if(R){S=true}this.length+=U.length;if(q!=null){for(var i=0;i<U.length;i++){this.models.splice(q+i,0,U[i])}}else{if(aF){this.models.length=0}var j=aF||U;for(var i=0;i<j.length;i++){this.models.push(j[i])}}}if(S){this.sort({silent:true})}if(!aB.silent){var A=q!=null?aq.clone(aB):aB;for(var i=0;i<U.length;i++){if(q!=null){A.index=q+i}(O=U[i]).trigger("add",O,this,A)}if(S||b){this.trigger("sort",this,aB)}if(U.length||aC.length){this.trigger("update",this,aB)}}return I?C[0]:C},reset:function(a,c){c=c?aq.clone(c):{};for(var b=0;b<this.models.length;b++){this._removeReference(this.models[b],c)}c.previousModels=this.models;this._reset();a=this.add(a,aq.extend({silent:true},c));if(!c.silent){this.trigger("reset",this,c)}return a},push:function(a,b){return this.add(a,aq.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a)},unshift:function(a,b){return this.add(a,aq.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a)},slice:function(){return al.apply(this.models,arguments)},get:function(a){if(a==null){return void 0}var b=this.modelId(this._isModel(a)?a.attributes:a);return this._byId[a]||this._byId[b]||this._byId[a.cid]},at:function(a){if(a<0){a+=this.length}return this.models[a]},where:function(a,c){var b=aq.matches(a);return this[c?"find":"filter"](function(d){return b(d.attributes)})},findWhere:function(a){return this.where(a,true)},sort:function(a){if(!this.comparator){throw new Error("Cannot sort a set without a comparator")}a||(a={});if(aq.isString(this.comparator)||this.comparator.length===1){this.models=this.sortBy(this.comparator,this)}else{this.models.sort(aq.bind(this.comparator,this))}if(!a.silent){this.trigger("sort",this,a)}return this},pluck:function(a){return aq.invoke(this.models,"get",a)},fetch:function(a){a=aq.extend({parse:true},a);var c=a.success;var b=this;a.success=function(d){var e=a.reset?"reset":"set";b[e](d,a);if(c){c.call(a.context,b,d,a)}b.trigger("sync",b,d,a)};ai(this,a);return this.sync("read",this,a)},create:function(a,d){d=d?aq.clone(d):{};var c=d.wait;a=this._prepareModel(a,d);if(!a){return false}if(!c){this.add(a,d)}var b=this;var f=d.success;d.success=function(h,j,g){if(c){b.add(h,g)}if(f){f.call(g.context,h,j,g)}};a.save(null,d);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(a){return a[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,c){if(this._isModel(a)){if(!a.collection){a.collection=this}return a}c=c?aq.clone(c):{};c.collection=this;var b=new this.model(a,c);if(!b.validationError){return b}this.trigger("invalid",this,b.validationError,c);return false},_removeModels:function(b,f){var a=[];for(var d=0;d<b.length;d++){var c=this.get(b[d]);if(!c){continue}var g=this.indexOf(c);this.models.splice(g,1);this.length--;if(!f.silent){f.index=g;c.trigger("remove",c,this,f)}a.push(c);this._removeReference(c,f)}return a.length?a:false},_isModel:function(a){return a instanceof am},_addReference:function(b,c){this._byId[b.cid]=b;var a=this.modelId(b.attributes);if(a!=null){this._byId[a]=b}b.on("all",this._onModelEvent,this)},_removeReference:function(b,c){delete this._byId[b.cid];var a=this.modelId(b.attributes);if(a!=null){delete this._byId[a]}if(this===b.collection){delete b.collection}b.off("all",this._onModelEvent,this)},_onModelEvent:function(b,f,a,d){if((b==="add"||b==="remove")&&a!==this){return}if(b==="destroy"){this.remove(f,d)}if(b==="change"){var c=this.modelId(f.previousAttributes());var g=this.modelId(f.attributes);if(c!==g){if(c!=null){delete this._byId[c]}if(g!=null){this._byId[g]=f}}}this.trigger.apply(this,arguments)}});var ac={forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:2,contains:2,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3};ak(aa,ac,"models");var W=["groupBy","countBy","sortBy","indexBy"];aq.each(W,function(a){if(!aq[a]){return}aa.prototype[a]=function(d,c){var b=aq.isFunction(d)?d:function(e){return e.get(d)};return aq[a](this.models,b,c)}});var ao=av.View=function(a){this.cid=aq.uniqueId("view");aq.extend(this,aq.pick(a,Q));this._ensureElement();this.initialize.apply(this,arguments)};var D=/^(\S+)\s*(.*)$/;var Q=["model","collection","el","id","attributes","className","tagName","events"];aq.extend(ao.prototype,ar,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},_removeElement:function(){this.$el.remove()},setElement:function(a){this.undelegateEvents();this._setElement(a);this.delegateEvents();return this},_setElement:function(a){this.$el=a instanceof av.$?a:av.$(a);this.el=this.$el[0]},delegateEvents:function(a){a||(a=aq.result(this,"events"));if(!a){return this}this.undelegateEvents();for(var d in a){var c=a[d];if(!aq.isFunction(c)){c=this[c]}if(!c){continue}var b=d.match(D);this.delegate(b[1],b[2],aq.bind(c,this))}return this},delegate:function(b,c,a){this.$el.on(b+".delegateEvents"+this.cid,c,a);return this},undelegateEvents:function(){if(this.$el){this.$el.off(".delegateEvents"+this.cid)}return this},undelegate:function(b,c,a){this.$el.off(b+".delegateEvents"+this.cid,c,a);return this},_createElement:function(a){return document.createElement(a)},_ensureElement:function(){if(!this.el){var a=aq.extend({},aq.result(this,"attributes"));if(this.id){a.id=aq.result(this,"id")}if(this.className){a["class"]=aq.result(this,"className")}this.setElement(this._createElement(aq.result(this,"tagName")));this._setAttributes(a)}else{this.setElement(aq.result(this,"el"))}},_setAttributes:function(a){this.$el.attr(a)}});av.sync=function(d,g,f){var j=B[d];aq.defaults(f||(f={}),{emulateHTTP:av.emulateHTTP,emulateJSON:av.emulateJSON});var b={type:j,dataType:"json"};if(!f.url){b.url=aq.result(g,"url")||L()}if(f.data==null&&g&&(d==="create"||d==="update"||d==="patch")){b.contentType="application/json";b.data=JSON.stringify(f.attrs||g.toJSON(f))}if(f.emulateJSON){b.contentType="application/x-www-form-urlencoded";b.data=b.data?{model:b.data}:{}}if(f.emulateHTTP&&(j==="PUT"||j==="DELETE"||j==="PATCH")){b.type="POST";if(f.emulateJSON){b.data._method=j}var i=f.beforeSend;f.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",j);if(i){return i.apply(this,arguments)}}}if(b.type!=="GET"&&!f.emulateJSON){b.processData=false}var e=f.error;f.error=function(h,k,a){f.textStatus=k;f.errorThrown=a;if(e){e.call(f.context,h,k,a)}};var c=f.xhr=av.ajax(aq.extend(b,f));g.trigger("request",g,c,f);return c};var B={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};av.ajax=function(){return av.$.ajax.apply(av.$,arguments)};var G=av.Router=function(a){a||(a={});if(a.routes){this.routes=a.routes}this._bindRoutes();this.initialize.apply(this,arguments)};var V=/\((.*?)\)/g;var Z=/(\(\?)?:\w+/g;var Y=/\*\w+/g;var X=/[\-{}\[\]+?.,\\\^$|#\s]/g;aq.extend(G.prototype,ar,{initialize:function(){},route:function(a,c,b){if(!aq.isRegExp(a)){a=this._routeToRegExp(a)}if(aq.isFunction(c)){b=c;c=""}if(!b){b=this[c]}var d=this;av.history.route(a,function(f){var e=d._extractParameters(a,f);if(d.execute(b,e,c)!==false){d.trigger.apply(d,["route:"+c].concat(e));d.trigger("route",c,e);av.history.trigger("route",d,c,e)}});return this},execute:function(b,c,a){if(b){b.apply(this,c)}},navigate:function(b,a){av.history.navigate(b,a);return this},_bindRoutes:function(){if(!this.routes){return}this.routes=aq.result(this,"routes");var a,b=aq.keys(this.routes);while((a=b.pop())!=null){this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(X,"\\$&").replace(V,"(?:$1)?").replace(Z,function(b,c){return c?b:"([^/?]+)"}).replace(Y,"([^?]*?)");return new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,c){var b=a.exec(c).slice(1);return aq.map(b,function(d,f){if(f===b.length-1){return d||null}return d?decodeURIComponent(d):null})}});var K=av.History=function(){this.handlers=[];aq.bindAll(this,"checkUrl");if(typeof window!=="undefined"){this.location=window.location;this.history=window.history}};var F=/^[#\/]|\s+$/g;var ap=/^\/+|\/+$/g;var J=/#.*$/;K.started=false;aq.extend(K.prototype,ar,{interval:50,atRoot:function(){var a=this.location.pathname.replace(/[^\/]$/,"$&/");return a===this.root&&!this.getSearch()},matchRoot:function(){var a=this.decodeFragment(this.location.pathname);var b=a.slice(0,this.root.length-1)+"/";return b===this.root},decodeFragment:function(a){return decodeURI(a.replace(/%25/g,"%2525"))},getSearch:function(){var a=this.location.href.replace(/#.*/,"").match(/\?.+/);return a?a[0]:""},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getPath:function(){var a=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return a.charAt(0)==="/"?a.slice(1):a},getFragment:function(a){if(a==null){if(this._usePushState||!this._wantsHashChange){a=this.getPath()}else{a=this.getHash()}}return a.replace(F,"")},start:function(a){if(K.started){throw new Error("Backbone.history has already been started")}K.started=true;this.options=aq.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=this.options.hashChange!==false;this._hasHashChange="onhashchange" in window;this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=!!(this.history&&this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=("/"+this.root+"/").replace(ap,"/");if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var d=this.root.slice(0,-1)||"/";this.location.replace(d+"#"+this.getPath());return true}else{if(this._hasPushState&&this.atRoot()){this.navigate(this.getHash(),{replace:true})}}}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe");this.iframe.src="javascript:0";this.iframe.style.display="none";this.iframe.tabIndex=-1;var c=document.body;var b=c.insertBefore(this.iframe,c.firstChild).contentWindow;b.document.open();b.document.close();b.location.hash="#"+this.fragment}var f=window.addEventListener||function(g,h){return attachEvent("on"+g,h)};if(this._usePushState){f("popstate",this.checkUrl,false)}else{if(this._useHashChange&&!this.iframe){f("hashchange",this.checkUrl,false)}else{if(this._wantsHashChange){this._checkUrlInterval=setInterval(this.checkUrl,this.interval)}}}if(!this.options.silent){return this.loadUrl()}},stop:function(){var a=window.removeEventListener||function(b,c){return detachEvent("on"+b,c)};if(this._usePushState){a("popstate",this.checkUrl,false)}else{if(this._useHashChange&&!this.iframe){a("hashchange",this.checkUrl,false)}}if(this.iframe){document.body.removeChild(this.iframe);this.iframe=null}if(this._checkUrlInterval){clearInterval(this._checkUrlInterval)}K.started=false},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(a){var b=this.getFragment();if(b===this.fragment&&this.iframe){b=this.getHash(this.iframe.contentWindow)}if(b===this.fragment){return false}if(this.iframe){this.navigate(b)}this.loadUrl()},loadUrl:function(a){if(!this.matchRoot()){return false}a=this.fragment=this.getFragment(a);return aq.any(this.handlers,function(b){if(b.route.test(a)){b.callback(a);return true}})},navigate:function(b,f){if(!K.started){return false}if(!f||f===true){f={trigger:!!f}}b=this.getFragment(b||"");var a=this.root;if(b===""||b.charAt(0)==="?"){a=a.slice(0,-1)||"/"}var d=a+b;b=this.decodeFragment(b.replace(J,""));if(this.fragment===b){return}this.fragment=b;if(this._usePushState){this.history[f.replace?"replaceState":"pushState"]({},document.title,d)}else{if(this._wantsHashChange){this._updateHash(this.location,b,f.replace);if(this.iframe&&b!==this.getHash(this.iframe.contentWindow)){var c=this.iframe.contentWindow;if(!f.replace){c.document.open();c.document.close()}this._updateHash(c.location,b,f.replace)}}else{return this.location.assign(d)}}if(f.trigger){return this.loadUrl(b)}},_updateHash:function(b,d,a){if(a){var c=b.href.replace(/(javascript:|#).*$/,"");b.replace(c+"#"+d)}else{b.hash="#"+d}}});av.history=new K;var z=function(a,d){var c=this;var b;if(a&&aq.has(a,"constructor")){b=a.constructor}else{b=function(){return c.apply(this,arguments)}}aq.extend(b,c,d);var f=function(){this.constructor=b};f.prototype=c.prototype;b.prototype=new f;if(a){aq.extend(b.prototype,a)}b.__super__=c.prototype;return b};am.extend=aa.extend=G.extend=ao.extend=K.extend=z;var L=function(){throw new Error('A "url" property or function must be specified')};var ai=function(b,c){var a=c.error;c.error=function(d){if(a){a.call(c.context,b,d,c)}b.trigger("error",b,d,c)}};return av});(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?module.exports=a():typeof define==="function"&&define.amd?define(a):b.moment=a()}(this,function(){var b1;function c7(){return b1.apply(null,arguments)}function aW(dS){b1=dS}function bq(dS){return Object.prototype.toString.call(dS)==="[object Array]"}function aJ(dS){return dS instanceof Date||Object.prototype.toString.call(dS)==="[object Date]"}function a1(dS,dV){var dU=[],dT;for(dT=0;dT<dS.length;++dT){dU.push(dV(dS[dT],dT))}return dU}function a7(dT,dS){return Object.prototype.hasOwnProperty.call(dT,dS)}function cD(dT,dS){for(var dU in dS){if(a7(dS,dU)){dT[dU]=dS[dU]}}if(a7(dS,"toString")){dT.toString=dS.toString}if(a7(dS,"valueOf")){dT.valueOf=dS.valueOf}return dT}function G(dU,dV,dS,dT){return c0(dU,dV,dS,dT,true).utc()}function aE(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false}}function co(dS){if(dS._pf==null){dS._pf=aE()}return dS._pf}function b(dS){if(dS._isValid==null){var dT=co(dS);dS._isValid=!isNaN(dS._d.getTime())&&dT.overflow<0&&!dT.empty&&!dT.invalidMonth&&!dT.nullInput&&!dT.invalidFormat&&!dT.userInvalidated;if(dS._strict){dS._isValid=dS._isValid&&dT.charsLeftOver===0&&dT.unusedTokens.length===0&&dT.bigHour===undefined}}return dS._isValid}function bT(dT){var dS=G(NaN);if(dT!=null){cD(co(dS),dT)}else{co(dS).userInvalidated=true}return dS}var an=c7.momentProperties=[];function q(dW,dV){var dS,dU,dT;if(typeof dV._isAMomentObject!=="undefined"){dW._isAMomentObject=dV._isAMomentObject}if(typeof dV._i!=="undefined"){dW._i=dV._i}if(typeof dV._f!=="undefined"){dW._f=dV._f}if(typeof dV._l!=="undefined"){dW._l=dV._l}if(typeof dV._strict!=="undefined"){dW._strict=dV._strict}if(typeof dV._tzm!=="undefined"){dW._tzm=dV._tzm}if(typeof dV._isUTC!=="undefined"){dW._isUTC=dV._isUTC}if(typeof dV._offset!=="undefined"){dW._offset=dV._offset}if(typeof dV._pf!=="undefined"){dW._pf=co(dV)}if(typeof dV._locale!=="undefined"){dW._locale=dV._locale}if(an.length>0){for(dS in an){dU=an[dS];dT=dV[dU];if(typeof dT!=="undefined"){dW[dU]=dT}}}return dW}var dE=false;function bA(dS){q(this,dS);this._d=new Date(+dS._d);if(dE===false){dE=true;c7.updateOffset(this);dE=false}}function bO(dS){return dS instanceof bA||(dS!=null&&dS._isAMomentObject!=null)}function dK(dS){var dU=+dS,dT=0;if(dU!==0&&isFinite(dU)){if(dU>=0){dT=Math.floor(dU)}else{dT=Math.ceil(dU)}}return dT}function K(dX,dW,dT){var dS=Math.min(dX.length,dW.length),dU=Math.abs(dX.length-dW.length),dY=0,dV;for(dV=0;dV<dS;dV++){if((dT&&dX[dV]!==dW[dV])||(!dT&&dK(dX[dV])!==dK(dW[dV]))){dY++}}return dY+dU}function aG(){}var cK={};var az;function du(dS){return dS?dS.toLowerCase().replace("_","-"):dS}function X(dX){var dV=0,dT,dW,dS,dU;while(dV<dX.length){dU=du(dX[dV]).split("-");dT=dU.length;dW=du(dX[dV+1]);dW=dW?dW.split("-"):null;while(dT>0){dS=Z(dU.slice(0,dT).join("-"));if(dS){return dS}if(dW&&dW.length>=dT&&K(dU,dW,true)>=dT-1){break}dT--}dV++}return null}function Z(dS){var dU=null;if(!cK[dS]&&typeof module!=="undefined"&&module&&module.exports){try{dU=az._abbr;require("./locale/"+dS);dm(dU)}catch(dT){}}return cK[dS]}function dm(dT,dS){var dU;if(dT){if(typeof dS==="undefined"){dU=n(dT)}else{dU=k(dT,dS)}if(dU){az=dU}}return az._abbr}function k(dT,dS){if(dS!==null){dS.abbr=dT;if(!cK[dT]){cK[dT]=new aG()}cK[dT].set(dS);dm(dT);return cK[dT]}else{delete cK[dT];return null}}function n(dT){var dS;if(dT&&dT._locale&&dT._locale._abbr){dT=dT._locale._abbr}if(!dT){return az}if(!bq(dT)){dS=Z(dT);if(dS){return dS}dT=[dT]}return X(dT)}var l={};function dH(dU,dS){var dT=dU.toLowerCase();l[dT]=l[dT+"s"]=l[dS]=dU}function Y(dS){return typeof dS==="string"?l[dS]||l[dS.toLowerCase()]:undefined}function cF(dU){var dT={},dS,dV;for(dV in dU){if(a7(dU,dV)){dS=Y(dV);if(dS){dT[dS]=dU[dV]}}}return dT}function b0(dS,dT){return function(dU){if(dU!=null){L(this,dS,dU);c7.updateOffset(this,dT);return this}else{return ap(this,dS)}}}function ap(dT,dS){return dT._d["get"+(dT._isUTC?"UTC":"")+dS]()}function L(dT,dS,dU){return dT._d["set"+(dT._isUTC?"UTC":"")+dS](dU)}function bo(dS,dU){var dT;if(typeof dS==="object"){for(dT in dS){this.set(dT,dS[dT])}}else{dS=Y(dS);if(typeof this[dS]==="function"){return this[dS](dU)}}return this}function R(dW,dV,dU){var dT=""+Math.abs(dW),dS=dW>=0;while(dT.length<dV){dT="0"+dT}return(dS?(dU?"+":""):"-")+dT}var v=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g;var aR=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g;var a4={};var df={};function a2(dT,dU,dS,dW){var dV=dW;if(typeof dW==="string"){dV=function(){return this[dW]()}}if(dT){df[dT]=dV}if(dU){df[dU[0]]=function(){return R(dV.apply(this,arguments),dU[1],dU[2])}}if(dS){df[dS]=function(){return this.localeData().ordinal(dV.apply(this,arguments),dT)}}}function cR(dS){if(dS.match(/\[[\s\S]/)){return dS.replace(/^\[|\]$/g,"")}return dS.replace(/\\/g,"")}function a3(dU){var dV=dU.match(v),dS,dT;for(dS=0,dT=dV.length;dS<dT;dS++){if(df[dV[dS]]){dV[dS]=df[dV[dS]]}else{dV[dS]=cR(dV[dS])}}return function(dX){var dW="";for(dS=0;dS<dT;dS++){dW+=dV[dS] instanceof Function?dV[dS].call(dX,dU):dV[dS]}return dW}}function g(dS,dT){if(!dS.isValid()){return dS.localeData().invalidDate()}dT=cy(dT,dS.localeData());if(!a4[dT]){a4[dT]=a3(dT)}return a4[dT](dS)}function cy(dV,dS){var dT=5;function dU(dW){return dS.longDateFormat(dW)||dW}aR.lastIndex=0;while(dT>=0&&aR.test(dV)){dV=dV.replace(aR,dU);aR.lastIndex=0;dT-=1}return dV}var dB=/\d/;var dA=/\d\d/;var dy=/\d{3}/;var dx=/\d{4}/;var dw=/[+-]?\d{6}/;var cs=/\d\d?/;var cp=/\d{1,3}/;var cm=/\d{1,4}/;var ck=/[+-]?\d{1,6}/;var aD=/\d+/;var dL=/[+-]?\d+/;var dM=/Z|[+-]\d\d:?\d\d/gi;var Q=/[+-]?\d+(\.\d{1,3})?/;var A=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i;var cC={};function j(dS,dT,dU){cC[dS]=typeof dT==="function"?dT:function(dV){return(dV&&dU)?dU:dT}}function ak(dT,dS){if(!a7(cC,dT)){return new RegExp(a8(dT))}return cC[dT](dS._strict,dS._locale)}function a8(dS){return dS.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(dT,dX,dW,dV,dU){return dX||dW||dV||dU}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var M={};function b6(dT,dV){var dS,dU=dV;if(typeof dT==="string"){dT=[dT]}if(typeof dV==="number"){dU=function(dW,dX){dX[dV]=dK(dW)}}for(dS=0;dS<dT.length;dS++){M[dT[dS]]=dU}}function dQ(dS,dT){b6(dS,function(dU,dX,dV,dW){dV._w=dV._w||{};dT(dU,dV._w,dV,dW)})}function aZ(dU,dS,dT){if(dS!=null&&a7(M,dU)){M[dU](dS,dT._a,dT,dU)}}var cl=0;var cx=1;var ce=2;var ay=3;var dg=4;var cA=5;var dI=6;function cH(dS,dT){return new Date(Date.UTC(dS,dT+1,0)).getUTCDate()}a2("M",["MM",2],"Mo",function(){return this.month()+1});a2("MMM",0,0,function(dS){return this.localeData().monthsShort(this,dS)});a2("MMMM",0,0,function(dS){return this.localeData().months(this,dS)});dH("month","M");j("M",cs);j("MM",cs,dA);j("MMM",A);j("MMMM",A);b6(["M","MM"],function(dS,dT){dT[cx]=dK(dS)-1});b6(["MMM","MMMM"],function(dS,dW,dT,dU){var dV=dT._locale.monthsParse(dS,dU,dT._strict);if(dV!=null){dW[cx]=dV}else{co(dT).invalidMonth=dS}});var dO="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function cu(dS){return this._months[dS.month()]}var bv="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function cJ(dS){return this._monthsShort[dS.month()]}function bE(dT,dX,dS){var dU,dW,dV;if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(dU=0;dU<12;dU++){dW=G([2000,dU]);if(dS&&!this._longMonthsParse[dU]){this._longMonthsParse[dU]=new RegExp("^"+this.months(dW,"").replace(".","")+"$","i");this._shortMonthsParse[dU]=new RegExp("^"+this.monthsShort(dW,"").replace(".","")+"$","i")}if(!dS&&!this._monthsParse[dU]){dV="^"+this.months(dW,"")+"|^"+this.monthsShort(dW,"");this._monthsParse[dU]=new RegExp(dV.replace(".",""),"i")}if(dS&&dX==="MMMM"&&this._longMonthsParse[dU].test(dT)){return dU}else{if(dS&&dX==="MMM"&&this._shortMonthsParse[dU].test(dT)){return dU}else{if(!dS&&this._monthsParse[dU].test(dT)){return dU}}}}}function ds(dS,dT){var dU;if(typeof dT==="string"){dT=dS.localeData().monthsParse(dT);if(typeof dT!=="number"){return dS}}dU=Math.min(dS.date(),cH(dS.year(),dT));dS._d["set"+(dS._isUTC?"UTC":"")+"Month"](dT,dU);return dS}function o(dS){if(dS!=null){ds(this,dS);c7.updateOffset(this,true);return this}else{return ap(this,"Month")}}function aS(){return cH(this.year(),this.month())}function cr(dS){var dU;var dT=dS._a;if(dT&&co(dS).overflow===-2){dU=dT[cx]<0||dT[cx]>11?cx:dT[ce]<1||dT[ce]>cH(dT[cl],dT[cx])?ce:dT[ay]<0||dT[ay]>24||(dT[ay]===24&&(dT[dg]!==0||dT[cA]!==0||dT[dI]!==0))?ay:dT[dg]<0||dT[dg]>59?dg:dT[cA]<0||dT[cA]>59?cA:dT[dI]<0||dT[dI]>999?dI:-1;if(co(dS)._overflowDayOfYear&&(dU<cl||dU>ce)){dU=ce}co(dS).overflow=dU}return dS}function dk(dS){if(c7.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+dS)}}function cG(dU,dT){var dV=true,dS=dU+"\n"+(new Error()).stack;return cD(function(){if(dV){dk(dS);dV=false}return dT.apply(this,arguments)},dT)}var ag={};function ch(dS,dT){if(!ag[dS]){dk(dT);ag[dS]=true}}c7.suppressDeprecationWarnings=false;var b3=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/;var dl=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]];var cj=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]];var de=/^\/?Date\((\-?\d+)/i;function d(dV){var dW,dS,dU=dV._i,dT=b3.exec(dU);if(dT){co(dV).iso=true;for(dW=0,dS=dl.length;dW<dS;dW++){if(dl[dW][1].exec(dU)){dV._f=dl[dW][0]+(dT[6]||" ");break}}for(dW=0,dS=cj.length;dW<dS;dW++){if(cj[dW][1].exec(dU)){dV._f+=cj[dW][0];break}}if(dU.match(dM)){dV._f+="Z"}x(dV)}else{dV._isValid=false}}function bp(dT){var dS=de.exec(dT._i);if(dS!==null){dT._d=new Date(+dS[1]);return}d(dT);if(dT._isValid===false){delete dT._isValid;c7.createFromInputFallback(dT)}}c7.createFromInputFallback=cG("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(dS){dS._d=new Date(dS._i+(dS._useUTC?" UTC":""))});function au(dZ,dS,dX,dW,dY,dV,dU){var dT=new Date(dZ,dS,dX,dW,dY,dV,dU);if(dZ<1970){dT.setFullYear(dZ)}return dT}function bD(dT){var dS=new Date(Date.UTC.apply(null,arguments));if(dT<1970){dS.setUTCFullYear(dT)}return dS}a2(0,["YY",2],0,function(){return this.year()%100});a2(0,["YYYY",4],0,"year");a2(0,["YYYYY",5],0,"year");a2(0,["YYYYYY",6,true],0,"year");dH("year","y");j("Y",dL);j("YY",cs,dA);j("YYYY",cm,dx);j("YYYYY",ck,dw);j("YYYYYY",ck,dw);b6(["YYYY","YYYYY","YYYYYY"],cl);b6("YY",function(dS,dT){dT[cl]=c7.parseTwoDigitYear(dS)});function dr(dS){return bY(dS)?366:365}function bY(dS){return(dS%4===0&&dS%100!==0)||dS%400===0}c7.parseTwoDigitYear=function(dS){return dK(dS)+(dK(dS)>68?1900:2000)};var T=b0("FullYear",false);function cQ(){return bY(this.year())}a2("w",["ww",2],"wo","week");a2("W",["WW",2],"Wo","isoWeek");dH("week","w");dH("isoWeek","W");j("w",cs);j("ww",cs,dA);j("W",cs);j("WW",cs,dA);dQ(["w","ww","W","WW"],function(dS,dV,dT,dU){dV[dU.substr(0,1)]=dK(dS)});function dR(dW,dU,dX){var dT=dX-dU,dS=dX-dW.day(),dV;if(dS>dT){dS-=7}if(dS<dT-7){dS+=7}dV=bS(dW).add(dS,"d");return{week:Math.ceil(dV.dayOfYear()/7),year:dV.year()}}function cZ(dS){return dR(dS,this._week.dow,this._week.doy).week}var bu={dow:0,doy:6};function aK(){return this._week.dow}function s(){return this._week.doy}function bi(dS){var dT=this.localeData().week(this);return dS==null?dT:this.add((dS-dT)*7,"d")}function dv(dS){var dT=dR(this,1,4).week;return dS==null?dT:this.add((dS-dT)*7,"d")}a2("DDD",["DDDD",3],"DDDo","dayOfYear");dH("dayOfYear","DDD");j("DDD",cp);j("DDDD",dy);b6(["DDD","DDDD"],function(dS,dU,dT){dT._dayOfYear=dK(dS)});function aB(dW,dV,dX,dZ,dS){var dY=bD(dW,0,1).getUTCDay();var dU;var dT;dY=dY===0?7:dY;dX=dX!=null?dX:dS;dU=dS-dY+(dY>dZ?7:0)-(dY<dS?7:0);dT=7*(dV-1)+(dX-dS)+dU+1;return{year:dT>0?dW:dW-1,dayOfYear:dT>0?dT:dr(dW-1)+dT}}function bL(dS){var dT=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/86400000)+1;return dS==null?dT:this.add((dS-dT),"d")}function ba(dT,dS,dU){if(dT!=null){return dT}if(dS!=null){return dS}return dU}function bj(dT){var dS=new Date();if(dT._useUTC){return[dS.getUTCFullYear(),dS.getUTCMonth(),dS.getUTCDate()]}return[dS.getFullYear(),dS.getMonth(),dS.getDate()]}function P(dW){var dX,dV,dU=[],dT,dS;if(dW._d){return}dT=bj(dW);if(dW._w&&dW._a[ce]==null&&dW._a[cx]==null){ab(dW)}if(dW._dayOfYear){dS=ba(dW._a[cl],dT[cl]);if(dW._dayOfYear>dr(dS)){co(dW)._overflowDayOfYear=true}dV=bD(dS,0,dW._dayOfYear);dW._a[cx]=dV.getUTCMonth();dW._a[ce]=dV.getUTCDate()}for(dX=0;dX<3&&dW._a[dX]==null;++dX){dW._a[dX]=dU[dX]=dT[dX]}for(;dX<7;dX++){dW._a[dX]=dU[dX]=(dW._a[dX]==null)?(dX===2?1:0):dW._a[dX]}if(dW._a[ay]===24&&dW._a[dg]===0&&dW._a[cA]===0&&dW._a[dI]===0){dW._nextDay=true;dW._a[ay]=0}dW._d=(dW._useUTC?bD:au).apply(null,dU);if(dW._tzm!=null){dW._d.setUTCMinutes(dW._d.getUTCMinutes()-dW._tzm)}if(dW._nextDay){dW._a[ay]=24}}function ab(dU){var dS,dW,dV,dX,dZ,dY,dT;dS=dU._w;if(dS.GG!=null||dS.W!=null||dS.E!=null){dZ=1;dY=4;dW=ba(dS.GG,dU._a[cl],dR(bS(),1,4).year);dV=ba(dS.W,1);dX=ba(dS.E,1)}else{dZ=dU._locale._week.dow;dY=dU._locale._week.doy;dW=ba(dS.gg,dU._a[cl],dR(bS(),dZ,dY).year);dV=ba(dS.w,1);if(dS.d!=null){dX=dS.d;if(dX<dZ){++dV}}else{if(dS.e!=null){dX=dS.e+dZ}else{dX=dZ}}}dT=aB(dW,dV,dX,dY,dZ);dU._a[cl]=dT.year;dU._dayOfYear=dT.dayOfYear}c7.ISO_8601=function(){};function x(dU){if(dU._f===c7.ISO_8601){d(dU);return}dU._a=[];co(dU).empty=true;var dX=""+dU._i,dW,dT,d0,dV,dZ,dS=dX.length,dY=0;d0=cy(dU._f,dU._locale).match(v)||[];for(dW=0;dW<d0.length;dW++){dV=d0[dW];dT=(dX.match(ak(dV,dU))||[])[0];if(dT){dZ=dX.substr(0,dX.indexOf(dT));if(dZ.length>0){co(dU).unusedInput.push(dZ)}dX=dX.slice(dX.indexOf(dT)+dT.length);dY+=dT.length}if(df[dV]){if(dT){co(dU).empty=false}else{co(dU).unusedTokens.push(dV)}aZ(dV,dT,dU)}else{if(dU._strict&&!dT){co(dU).unusedTokens.push(dV)}}}co(dU).charsLeftOver=dS-dY;if(dX.length>0){co(dU).unusedInput.push(dX)}if(co(dU).bigHour===true&&dU._a[ay]<=12&&dU._a[ay]>0){co(dU).bigHour=undefined}dU._a[ay]=bW(dU._locale,dU._a[ay],dU._meridiem);P(dU);cr(dU)}function bW(dS,dU,dV){var dT;if(dV==null){return dU}if(dS.meridiemHour!=null){return dS.meridiemHour(dU,dV)}else{if(dS.isPM!=null){dT=dS.isPM(dV);if(dT&&dU<12){dU+=12}if(!dT&&dU===12){dU=0}return dU}else{return dU}}}function w(dS){var dW,dU,dV,dT,dX;if(dS._f.length===0){co(dS).invalidFormat=true;dS._d=new Date(NaN);return}for(dT=0;dT<dS._f.length;dT++){dX=0;dW=q({},dS);if(dS._useUTC!=null){dW._useUTC=dS._useUTC}dW._f=dS._f[dT];x(dW);if(!b(dW)){continue}dX+=co(dW).charsLeftOver;dX+=co(dW).unusedTokens.length*10;co(dW).score=dX;if(dV==null||dX<dV){dV=dX;dU=dW}}cD(dS,dU||dW)}function ci(dS){if(dS._d){return}var dT=cF(dS._i);dS._a=[dT.year,dT.month,dT.day||dT.date,dT.hour,dT.minute,dT.second,dT.millisecond];P(dS)}function cd(dT){var dS=dT._i,dV=dT._f,dU;dT._locale=dT._locale||n(dT._l);if(dS===null||(dV===undefined&&dS==="")){return bT({nullInput:true})}if(typeof dS==="string"){dT._i=dS=dT._locale.preparse(dS)}if(bO(dS)){return new bA(cr(dS))}else{if(bq(dV)){w(dT)}else{if(dV){x(dT)}else{if(aJ(dS)){dT._d=dS}else{bm(dT)}}}}dU=new bA(cr(dT));if(dU._nextDay){dU.add(1,"d");dU._nextDay=undefined}return dU}function bm(dT){var dS=dT._i;if(dS===undefined){dT._d=new Date()}else{if(aJ(dS)){dT._d=new Date(+dS)}else{if(typeof dS==="string"){bp(dT)}else{if(bq(dS)){dT._a=a1(dS.slice(0),function(dU){return parseInt(dU,10)});P(dT)}else{if(typeof(dS)==="object"){ci(dT)}else{if(typeof(dS)==="number"){dT._d=new Date(dS)}else{c7.createFromInputFallback(dT)}}}}}}}function c0(dV,dW,dS,dU,dT){var dX={};if(typeof(dS)==="boolean"){dU=dS;dS=undefined}dX._isAMomentObject=true;dX._useUTC=dX._isUTC=dT;dX._l=dS;dX._i=dV;dX._f=dW;dX._strict=dU;return cd(dX)}function bS(dU,dV,dS,dT){return c0(dU,dV,dS,dT,false)}var aI=cG("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var dS=bS.apply(null,arguments);return dS<this?this:dS});var dF=cG("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var dS=bS.apply(null,arguments);return dS>this?this:dS});function bR(dU,dV){var dT,dS;if(dV.length===1&&bq(dV[0])){dV=dV[0]}if(!dV.length){return bS()}dT=dV[0];for(dS=1;dS<dV.length;++dS){if(dV[dS][dU](dT)){dT=dV[dS]}}return dT}function cz(){var dS=[].slice.call(arguments,0);return bR("isBefore",dS)}function aT(){var dS=[].slice.call(arguments,0);return bR("isAfter",dS)}function ad(dX){var dZ=cF(dX),dY=dZ.year||0,dT=dZ.quarter||0,dU=dZ.month||0,dS=dZ.week||0,d2=dZ.day||0,d0=dZ.hour||0,dW=dZ.minute||0,d1=dZ.second||0,dV=dZ.millisecond||0;this._milliseconds=+dV+d1*1000+dW*60000+d0*3600000;this._days=+d2+dS*7;this._months=+dU+dT*3+dY*12;this._data={};this._locale=n();this._bubble()}function J(dS){return dS instanceof ad}function dz(dS,dT){a2(dS,0,0,function(){var dV=this.utcOffset();var dU="+";if(dV<0){dV=-dV;dU="-"}return dU+R(~~(dV/60),2)+dT+R(~~(dV)%60,2)})}dz("Z",":");dz("ZZ","");j("Z",dM);j("ZZ",dM);b6(["Z","ZZ"],function(dS,dU,dT){dT._useUTC=true;dT._tzm=bw(dS)});var br=/([\+\-]|\d\d)/gi;function bw(dT){var dV=((dT||"").match(dM)||[]);var dS=dV[dV.length-1]||[];var dW=(dS+"").match(br)||["-",0,0];var dU=+(dW[1]*60)+dK(dW[2]);return dW[0]==="+"?dU:-dU}function B(dS,dT){var dU,dV;if(dT._isUTC){dU=dT.clone();dV=(bO(dS)||aJ(dS)?+dS:+bS(dS))-(+dU);dU._d.setTime(+dU._d+dV);c7.updateOffset(dU,false);return dU}else{return bS(dS).local()}return dT._isUTC?bS(dS).zone(dT._offset||0):bS(dS).local()}function a(dS){return -Math.round(dS._d.getTimezoneOffset()/15)*15}c7.updateOffset=function(){};function cg(dS,dV){var dU=this._offset||0,dT;if(dS!=null){if(typeof dS==="string"){dS=bw(dS)}if(Math.abs(dS)<16){dS=dS*60}if(!this._isUTC&&dV){dT=a(this)}this._offset=dS;this._isUTC=true;if(dT!=null){this.add(dT,"m")}if(dU!==dS){if(!dV||this._changeInProgress){m(this,cW(dS-dU,"m"),1,false)}else{if(!this._changeInProgress){this._changeInProgress=true;c7.updateOffset(this,true);this._changeInProgress=null}}}return this}else{return this._isUTC?dU:a(this)}}function ax(dS,dT){if(dS!=null){if(typeof dS!=="string"){dS=-dS}this.utcOffset(dS,dT);return this}else{return -this.utcOffset()}}function f(dS){return this.utcOffset(0,dS)}function bl(dS){if(this._isUTC){this.utcOffset(0,dS);this._isUTC=false;if(dS){this.subtract(a(this),"m")}}return this}function bz(){if(this._tzm){this.utcOffset(this._tzm)}else{if(typeof this._i==="string"){this.utcOffset(bw(this._i))}}return this}function cb(dS){if(!dS){dS=0}else{dS=bS(dS).utcOffset()}return(this.utcOffset()-dS)%60===0}function cf(){return(this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset())}function c1(){if(this._a){var dS=this._isUTC?G(this._a):bS(this._a);return this.isValid()&&K(this._a,dS.toArray())>0}return false}function a6(){return !this._isUTC}function bK(){return this._isUTC}function a5(){return this._isUTC&&this._offset===0}var aM=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/;var aH=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;function cW(dU,dX){var dY=dU,dW=null,dT,dV,dS;if(J(dU)){dY={ms:dU._milliseconds,d:dU._days,M:dU._months}}else{if(typeof dU==="number"){dY={};if(dX){dY[dX]=dU}else{dY.milliseconds=dU}}else{if(!!(dW=aM.exec(dU))){dT=(dW[1]==="-")?-1:1;dY={y:0,d:dK(dW[ce])*dT,h:dK(dW[ay])*dT,m:dK(dW[dg])*dT,s:dK(dW[cA])*dT,ms:dK(dW[dI])*dT}}else{if(!!(dW=aH.exec(dU))){dT=(dW[1]==="-")?-1:1;dY={y:bU(dW[2],dT),M:bU(dW[3],dT),d:bU(dW[4],dT),h:bU(dW[5],dT),m:bU(dW[6],dT),s:bU(dW[7],dT),w:bU(dW[8],dT)}}else{if(dY==null){dY={}}else{if(typeof dY==="object"&&("from" in dY||"to" in dY)){dS=aV(bS(dY.from),bS(dY.to));dY={};dY.ms=dS.milliseconds;dY.M=dS.months}}}}}}dV=new ad(dY);if(J(dU)&&a7(dU,"_locale")){dV._locale=dU._locale}return dV}cW.fn=ad.prototype;function bU(dU,dS){var dT=dU&&parseFloat(dU.replace(",","."));return(isNaN(dT)?0:dT)*dS}function di(dU,dS){var dT={milliseconds:0,months:0};dT.months=dS.month()-dU.month()+(dS.year()-dU.year())*12;if(dU.clone().add(dT.months,"M").isAfter(dS)){--dT.months}dT.milliseconds=+dS-+(dU.clone().add(dT.months,"M"));return dT}function aV(dU,dS){var dT;dS=B(dS,dU);if(dU.isBefore(dS)){dT=di(dU,dS)}else{dT=di(dS,dU);dT.milliseconds=-dT.milliseconds;dT.months=-dT.months}return dT}function bk(dT,dS){return function(dX,dW){var dV,dU;if(dW!==null&&!isNaN(+dW)){ch(dS,"moment()."+dS+"(period, number) is deprecated. Please use moment()."+dS+"(number, period).");dU=dX;dX=dW;dW=dU}dX=typeof dX==="string"?+dX:dX;dV=cW(dX,dW);m(this,dV,dT);return this}}function m(dU,dX,dW,dV){var dT=dX._milliseconds,dY=dX._days,dS=dX._months;dV=dV==null?true:dV;if(dT){dU._d.setTime(+dU._d+dT*dW)}if(dY){L(dU,"Date",ap(dU,"Date")+dY*dW)}if(dS){ds(dU,ap(dU,"Month")+dS*dW)}if(dV){c7.updateOffset(dU,dY||dS)}}var V=bk(1,"add");var bN=bk(-1,"subtract");function ai(dW){var dT=dW||bS(),dS=B(dT,this).startOf("day"),dV=this.diff(dS,"days",true),dU=dV<-6?"sameElse":dV<-1?"lastWeek":dV<0?"lastDay":dV<1?"sameDay":dV<2?"nextDay":dV<7?"nextWeek":"sameElse";return this.format(this.localeData().calendar(dU,this,bS(dT)))}function cU(){return new bA(this)}function bJ(dT,dS){var dU;dS=Y(typeof dS!=="undefined"?dS:"millisecond");if(dS==="millisecond"){dT=bO(dT)?dT:bS(dT);return +this>+dT}else{dU=bO(dT)?+dT:+bS(dT);return dU<+this.clone().startOf(dS)}}function b8(dT,dS){var dU;dS=Y(typeof dS!=="undefined"?dS:"millisecond");if(dS==="millisecond"){dT=bO(dT)?dT:bS(dT);return +this<+dT}else{dU=bO(dT)?+dT:+bS(dT);return +this.clone().endOf(dS)<dU}}function bI(dU,dT,dS){return this.isAfter(dU,dS)&&this.isBefore(dT,dS)}function F(dT,dS){var dU;dS=Y(dS||"millisecond");if(dS==="millisecond"){dT=bO(dT)?dT:bS(dT);return +this===+dT}else{dU=+bS(dT);return +(this.clone().startOf(dS))<=dU&&dU<=+(this.clone().endOf(dS))}}function by(dS){if(dS<0){return Math.ceil(dS)}else{return Math.floor(dS)}}function cq(dV,dU,dS){var dX=B(dV,this),dW=(dX.utcOffset()-this.utcOffset())*60000,dY,dT;dU=Y(dU);if(dU==="year"||dU==="month"||dU==="quarter"){dT=cB(this,dX);if(dU==="quarter"){dT=dT/3}else{if(dU==="year"){dT=dT/12}}}else{dY=this-dX;dT=dU==="second"?dY/1000:dU==="minute"?dY/60000:dU==="hour"?dY/3600000:dU==="day"?(dY-dW)/86400000:dU==="week"?(dY-dW)/604800000:dY}return dS?dT:by(dT)}function cB(dT,dS){var dX=((dS.year()-dT.year())*12)+(dS.month()-dT.month()),dU=dT.clone().add(dX,"months"),dV,dW;if(dS-dU<0){dV=dT.clone().add(dX-1,"months");dW=(dS-dU)/(dU-dV)}else{dV=dT.clone().add(dX+1,"months");dW=(dS-dU)/(dV-dU)}return -(dX+dW)}c7.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";function E(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ct(){var dS=this.clone().utc();if(0<dS.year()&&dS.year()<=9999){if("function"===typeof Date.prototype.toISOString){return this.toDate().toISOString()}else{return g(dS,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}else{return g(dS,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}}function i(dT){var dS=g(this,dT||c7.defaultFormat);return this.localeData().postformat(dS)}function cP(dT,dS){if(!this.isValid()){return this.localeData().invalidDate()}return cW({to:this,from:dT}).locale(this.locale()).humanize(!dS)}function bb(dS){return this.from(bS(),dS)}function aF(dT,dS){if(!this.isValid()){return this.localeData().invalidDate()}return cW({from:this,to:dT}).locale(this.locale()).humanize(!dS)}function aQ(dS){return this.to(bS(),dS)}function bX(dT){var dS;if(dT===undefined){return this._locale._abbr}else{dS=n(dT);if(dS!=null){this._locale=dS}return this}}var c8=cG("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(dS){if(dS===undefined){return this.localeData()}else{return this.locale(dS)}});function bH(){return this._locale}function dq(dS){dS=Y(dS);switch(dS){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}if(dS==="week"){this.weekday(0)}if(dS==="isoWeek"){this.isoWeekday(1)}if(dS==="quarter"){this.month(Math.floor(this.month()/3)*3)}return this}function cL(dS){dS=Y(dS);if(dS===undefined||dS==="millisecond"){return this}return this.startOf(dS).add(1,(dS==="isoWeek"?"week":dS)).subtract(1,"ms")}function bF(){return +this._d-((this._offset||0)*60000)}function bG(){return Math.floor(+this/1000)}function aA(){return this._offset?new Date(+this):this._d}function I(){var dS=this;return[dS.year(),dS.month(),dS.date(),dS.hour(),dS.minute(),dS.second(),dS.millisecond()]}function cv(){return b(this)}function e(){return cD({},co(this))}function bd(){return co(this).overflow}a2(0,["gg",2],0,function(){return this.weekYear()%100});a2(0,["GG",2],0,function(){return this.isoWeekYear()%100});function af(dT,dS){a2(0,[dT,dT.length],0,dS)}af("gggg","weekYear");af("ggggg","weekYear");af("GGGG","isoWeekYear");af("GGGGG","isoWeekYear");dH("weekYear","gg");dH("isoWeekYear","GG");j("G",dL);j("g",dL);j("GG",cs,dA);j("gg",cs,dA);j("GGGG",cm,dx);j("gggg",cm,dx);j("GGGGG",ck,dw);j("ggggg",ck,dw);dQ(["gggg","ggggg","GGGG","GGGGG"],function(dS,dV,dT,dU){dV[dU.substr(0,2)]=dK(dS)});dQ(["gg","GG"],function(dS,dV,dT,dU){dV[dU]=c7.parseTwoDigitYear(dS)});function am(dS,dU,dT){return dR(bS([dS,11,31+dU-dT]),dU,dT).week}function cI(dS){var dT=dR(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return dS==null?dT:this.add((dS-dT),"y")}function cE(dS){var dT=dR(this,1,4).year;return dS==null?dT:this.add((dS-dT),"y")}function dP(){return am(this.year(),1,4)}function c5(){var dS=this.localeData()._week;return am(this.year(),dS.dow,dS.doy)}a2("Q",0,0,"quarter");dH("quarter","Q");j("Q",dB);b6("Q",function(dS,dT){dT[cx]=(dK(dS)-1)*3});function bQ(dS){return dS==null?Math.ceil((this.month()+1)/3):this.month((dS-1)*3+this.month()%3)}a2("D",["DD",2],"Do","date");dH("date","D");j("D",cs);j("DD",cs,dA);j("Do",function(dT,dS){return dT?dS._ordinalParse:dS._ordinalParseLenient});b6(["D","DD"],ce);b6("Do",function(dS,dT){dT[ce]=dK(dS.match(cs)[0],10)});var H=b0("Date",true);a2("d",0,"do","day");a2("dd",0,0,function(dS){return this.localeData().weekdaysMin(this,dS)});a2("ddd",0,0,function(dS){return this.localeData().weekdaysShort(this,dS)});a2("dddd",0,0,function(dS){return this.localeData().weekdays(this,dS)});a2("e",0,0,"weekday");a2("E",0,0,"isoWeekday");dH("day","d");dH("weekday","e");dH("isoWeekday","E");j("d",cs);j("e",cs);j("E",cs);j("dd",A);j("ddd",A);j("dddd",A);dQ(["dd","ddd","dddd"],function(dS,dU,dT){var dV=dT._locale.weekdaysParse(dS);if(dV!=null){dU.d=dV}else{co(dT).invalidWeekday=dS}});dQ(["d","e","E"],function(dS,dV,dT,dU){dV[dU]=dK(dS)});function c4(dT,dS){if(typeof dT==="string"){if(!isNaN(dT)){dT=parseInt(dT,10)}else{dT=dS.weekdaysParse(dT);if(typeof dT!=="number"){return null}}}return dT}var al="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function bM(dS){return this._weekdays[dS.day()]}var u="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function D(dS){return this._weekdaysShort[dS.day()]}var cT="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function z(dS){return this._weekdaysMin[dS.day()]}function dh(dV){var dS,dU,dT;if(!this._weekdaysParse){this._weekdaysParse=[]}for(dS=0;dS<7;dS++){if(!this._weekdaysParse[dS]){dU=bS([2000,1]).day(dS);dT="^"+this.weekdays(dU,"")+"|^"+this.weekdaysShort(dU,"")+"|^"+this.weekdaysMin(dU,"");this._weekdaysParse[dS]=new RegExp(dT.replace(".",""),"i")}if(this._weekdaysParse[dS].test(dV)){return dS}}}function cV(dT){var dS=this._isUTC?this._d.getUTCDay():this._d.getDay();if(dT!=null){dT=c4(dT,this.localeData());return this.add(dT-dS,"d")}else{return dS}}function aL(dS){var dT=(this.day()+7-this.localeData()._week.dow)%7;return dS==null?dT:this.add(dS-dT,"d")}function bt(dS){return dS==null?this.day()||7:this.day(this.day()%7?dS:dS-7)}a2("H",["HH",2],0,"hour");a2("h",["hh",2],0,function(){return this.hours()%12||12});function p(dS,dT){a2(dS,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),dT)})}p("a",true);p("A",false);dH("hour","h");function cw(dT,dS){return dS._meridiemParse}j("a",cw);j("A",cw);j("H",cs);j("h",cs);j("HH",cs,dA);j("hh",cs,dA);b6(["H","HH"],ay);b6(["a","A"],function(dS,dU,dT){dT._isPm=dT._locale.isPM(dS);dT._meridiem=dS});b6(["h","hh"],function(dS,dU,dT){dU[ay]=dK(dS);co(dT).bigHour=true});function bh(dS){return((dS+"").toLowerCase().charAt(0)==="p")}var dp=/[ap]\.?m?\.?/i;function c(dS,dT,dU){if(dS>11){return dU?"pm":"PM"}else{return dU?"am":"AM"}}var cM=b0("Hours",true);a2("m",["mm",2],0,"minute");dH("minute","m");j("m",cs);j("mm",cs,dA);b6(["m","mm"],dg);var db=b0("Minutes",false);a2("s",["ss",2],0,"second");dH("second","s");j("s",cs);j("ss",cs,dA);b6(["s","ss"],cA);var cn=b0("Seconds",false);a2("S",0,0,function(){return ~~(this.millisecond()/100)});a2(0,["SS",2],0,function(){return ~~(this.millisecond()/10)});function ca(dS){a2(0,[dS,3],0,"millisecond")}ca("SSS");ca("SSSS");dH("millisecond","ms");j("S",cp,dB);j("SS",cp,dA);j("SSS",cp,dy);j("SSSS",aD);b6(["S","SS","SSS","SSSS"],function(dS,dT){dT[dI]=dK(("0."+dS)*1000)});var aq=b0("Milliseconds",false);a2("z",0,0,"zoneAbbr");a2("zz",0,0,"zoneName");function O(){return this._isUTC?"UTC":""}function b5(){return this._isUTC?"Coordinated Universal Time":""}var dN=bA.prototype;dN.add=V;dN.calendar=ai;dN.clone=cU;dN.diff=cq;dN.endOf=cL;dN.format=i;dN.from=cP;dN.fromNow=bb;dN.to=aF;dN.toNow=aQ;dN.get=bo;dN.invalidAt=bd;dN.isAfter=bJ;dN.isBefore=b8;dN.isBetween=bI;dN.isSame=F;dN.isValid=cv;dN.lang=c8;dN.locale=bX;dN.localeData=bH;dN.max=dF;dN.min=aI;dN.parsingFlags=e;dN.set=bo;dN.startOf=dq;dN.subtract=bN;dN.toArray=I;dN.toDate=aA;dN.toISOString=ct;dN.toJSON=ct;dN.toString=E;dN.unix=bG;dN.valueOf=bF;dN.year=T;dN.isLeapYear=cQ;dN.weekYear=cI;dN.isoWeekYear=cE;dN.quarter=dN.quarters=bQ;dN.month=o;dN.daysInMonth=aS;dN.week=dN.weeks=bi;dN.isoWeek=dN.isoWeeks=dv;dN.weeksInYear=c5;dN.isoWeeksInYear=dP;dN.date=H;dN.day=dN.days=cV;dN.weekday=aL;dN.isoWeekday=bt;dN.dayOfYear=bL;dN.hour=dN.hours=cM;dN.minute=dN.minutes=db;dN.second=dN.seconds=cn;dN.millisecond=dN.milliseconds=aq;dN.utcOffset=cg;dN.utc=f;dN.local=bl;dN.parseZone=bz;dN.hasAlignedHourOffset=cb;dN.isDST=cf;dN.isDSTShifted=c1;dN.isLocal=a6;dN.isUtcOffset=bK;dN.isUtc=a5;dN.isUTC=a5;dN.zoneAbbr=O;dN.zoneName=b5;dN.dates=cG("dates accessor is deprecated. Use date instead.",H);dN.months=cG("months accessor is deprecated. Use month instead",o);dN.years=cG("years accessor is deprecated. Use year instead",T);dN.zone=cG("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",ax);var aP=dN;function bC(dS){return bS(dS*1000)}function aY(){return bS.apply(null,arguments).parseZone()}var aC={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function bs(dU,dV,dT){var dS=this._calendar[dU];return typeof dS==="function"?dS.call(dV,dT):dS}var ar={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"};function b9(dT){var dS=this._longDateFormat[dT];if(!dS&&this._longDateFormat[dT.toUpperCase()]){dS=this._longDateFormat[dT.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(dU){return dU.slice(1)});this._longDateFormat[dT]=dS}return dS}var ah="Invalid date";function cN(){return this._invalidDate}var be="%d";var dn=/\d{1,2}/;function aw(dS){return this._ordinal.replace("%d",dS)}function t(dS){return dS}var c3={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function dd(dV,dU,dT,dW){var dS=this._relativeTime[dT];return(typeof dS==="function")?dS(dV,dU,dT,dW):dS.replace(/%d/i,dV)}function c2(dU,dS){var dT=this._relativeTime[dU>0?"future":"past"];return typeof dT==="function"?dT(dS):dT.replace(/%s/i,dS)}function dJ(dS){var dU,dT;for(dT in dS){dU=dS[dT];if(typeof dU==="function"){this[dT]=dU}else{this["_"+dT]=dU}}this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+(/\d{1,2}/).source)}var bn=aG.prototype;bn._calendar=aC;bn.calendar=bs;bn._longDateFormat=ar;bn.longDateFormat=b9;bn._invalidDate=ah;bn.invalidDate=cN;bn._ordinal=be;bn.ordinal=aw;bn._ordinalParse=dn;bn.preparse=t;bn.postformat=t;bn._relativeTime=c3;bn.relativeTime=dd;bn.pastFuture=c2;bn.set=dJ;bn.months=cu;bn._months=dO;bn.monthsShort=cJ;bn._monthsShort=bv;bn.monthsParse=bE;bn.week=cZ;bn._week=bu;bn.firstDayOfYear=s;bn.firstDayOfWeek=aK;bn.weekdays=bM;bn._weekdays=al;bn.weekdaysMin=z;bn._weekdaysMin=cT;bn.weekdaysShort=D;bn._weekdaysShort=u;bn.weekdaysParse=dh;bn.isPM=bh;bn._meridiemParse=dp;bn.meridiem=c;function bf(dW,dT,dV,dX){var dS=n();var dU=G().set(dX,dT);return dS[dV](dU,dW)}function aN(dX,dT,dW,dV,dY){if(typeof dX==="number"){dT=dX;dX=undefined}dX=dX||"";if(dT!=null){return bf(dX,dT,dW,dY)}var dU;var dS=[];for(dU=0;dU<dV;dU++){dS[dU]=bf(dX,dU,dW,dY)}return dS}function av(dT,dS){return aN(dT,dS,"months",12,"month")}function bx(dT,dS){return aN(dT,dS,"monthsShort",12,"month")}function c6(dT,dS){return aN(dT,dS,"weekdays",7,"day")}function dj(dT,dS){return aN(dT,dS,"weekdaysShort",7,"day")}function cY(dT,dS){return aN(dT,dS,"weekdaysMin",7,"day")}dm("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(dU){var dS=dU%10,dT=(dK(dU%100/10)===1)?"th":(dS===1)?"st":(dS===2)?"nd":(dS===3)?"rd":"th";return dU+dT}});c7.lang=cG("moment.lang is deprecated. Use moment.locale instead.",dm);c7.langData=cG("moment.langData is deprecated. Use moment.localeData instead.",n);var h=Math.abs;function bB(){var dS=this._data;this._milliseconds=h(this._milliseconds);this._days=h(this._days);this._months=h(this._months);dS.milliseconds=h(dS.milliseconds);dS.seconds=h(dS.seconds);dS.minutes=h(dS.minutes);dS.hours=h(dS.hours);dS.months=h(dS.months);dS.years=h(dS.years);return this}function cO(dW,dT,dU,dV){var dS=cW(dT,dU);dW._milliseconds+=dV*dS._milliseconds;dW._days+=dV*dS._days;dW._months+=dV*dS._months;return dW._bubble()}function bP(dS,dT){return cO(this,dS,dT,1)}function b2(dS,dT){return cO(this,dS,dT,-1)}function bV(){var dU=this._milliseconds;var dZ=this._days;var dS=this._months;var dX=this._data;var dY,dW,dT,dV=0;dX.milliseconds=dU%1000;dY=by(dU/1000);dX.seconds=dY%60;dW=by(dY/60);dX.minutes=dW%60;dT=by(dW/60);dX.hours=dT%24;dZ+=by(dT/24);dV=by(dC(dZ));dZ-=by(ao(dV));dS+=by(dZ/30);dZ%=30;dV+=by(dS/12);dS%=12;dX.days=dZ;dX.months=dS;dX.years=dV;return this}function dC(dS){return dS*400/146097}function ao(dS){return dS*146097/400}function da(dT){var dV;var dS;var dU=this._milliseconds;dT=Y(dT);if(dT==="month"||dT==="year"){dV=this._days+dU/86400000;dS=this._months+dC(dV)*12;return dT==="month"?dS:dS/12}else{dV=this._days+Math.round(ao(this._months/12));switch(dT){case"week":return dV/7+dU/604800000;case"day":return dV+dU/86400000;case"hour":return dV*24+dU/3600000;case"minute":return dV*1440+dU/60000;case"second":return dV*86400+dU/1000;case"millisecond":return Math.floor(dV*86400000)+dU;default:throw new Error("Unknown unit "+dT)}}}function aX(){return(this._milliseconds+this._days*86400000+(this._months%12)*2592000000+dK(this._months/12)*31536000000)}function dD(dS){return function(){return this.as(dS)}}var r=dD("ms");var y=dD("s");var a0=dD("m");var C=dD("h");var cX=dD("d");var bg=dD("w");var U=dD("M");var aO=dD("y");function ae(dS){dS=Y(dS);return this[dS+"s"]()}function cS(dS){return function(){return this._data[dS]}}var aU=cS("milliseconds");var ac=cS("seconds");var a9=cS("minutes");var b4=cS("hours");var W=cS("days");var c9=cS("months");var dc=cS("years");function dG(){return by(this.days()/7)}var S=Math.round;var bc={s:45,m:45,h:22,d:26,M:11};function dt(dT,dV,dU,dW,dS){return dS.relativeTime(dV||1,!!dU,dT,dW)}function at(dW,dT,d0){var dU=cW(dW).abs();var d1=S(dU.as("s"));var dV=S(dU.as("m"));var dZ=S(dU.as("h"));var d2=S(dU.as("d"));var dS=S(dU.as("M"));var dX=S(dU.as("y"));var dY=d1<bc.s&&["s",d1]||dV===1&&["m"]||dV<bc.m&&["mm",dV]||dZ===1&&["h"]||dZ<bc.h&&["hh",dZ]||d2===1&&["d"]||d2<bc.d&&["dd",d2]||dS===1&&["M"]||dS<bc.M&&["MM",dS]||dX===1&&["y"]||["yy",dX];dY[2]=dT;dY[3]=+dW>0;dY[4]=d0;return dt.apply(null,dY)}function aj(dS,dT){if(bc[dS]===undefined){return false}if(dT===undefined){return bc[dS]}bc[dS]=dT;return true}function bZ(dU){var dS=this.localeData();var dT=at(this,!dU,dS);if(dU){dT=dS.pastFuture(+this,dT)}return dS.postformat(dT)}var b7=Math.abs;function N(){var dX=b7(this.years());var dY=b7(this.months());var dW=b7(this.days());var dU=b7(this.hours());var dS=b7(this.minutes());var dT=b7(this.seconds()+this.milliseconds()/1000);var dV=this.asSeconds();if(!dV){return"P0D"}return(dV<0?"-":"")+"P"+(dX?dX+"Y":"")+(dY?dY+"M":"")+(dW?dW+"D":"")+((dU||dS||dT)?"T":"")+(dU?dU+"H":"")+(dS?dS+"M":"")+(dT?dT+"S":"")}var aa=ad.prototype;aa.abs=bB;aa.add=bP;aa.subtract=b2;aa.as=da;aa.asMilliseconds=r;aa.asSeconds=y;aa.asMinutes=a0;aa.asHours=C;aa.asDays=cX;aa.asWeeks=bg;aa.asMonths=U;aa.asYears=aO;aa.valueOf=aX;aa._bubble=bV;aa.get=ae;aa.milliseconds=aU;aa.seconds=ac;aa.minutes=a9;aa.hours=b4;aa.days=W;aa.weeks=dG;aa.months=c9;aa.years=dc;aa.humanize=bZ;aa.toISOString=N;aa.toString=N;aa.toJSON=N;aa.locale=bX;aa.localeData=bH;aa.toIsoString=cG("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",N);aa.lang=c8;a2("X",0,0,"unix");a2("x",0,0,"valueOf");j("x",dL);j("X",Q);b6("X",function(dS,dU,dT){dT._d=new Date(parseFloat(dS,10)*1000)});b6("x",function(dS,dU,dT){dT._d=new Date(dK(dS))});c7.version="2.10.3";aW(bS);c7.fn=aP;c7.min=cz;c7.max=aT;c7.utc=G;c7.unix=bC;c7.months=av;c7.isDate=aJ;c7.locale=dm;c7.invalid=bT;c7.duration=cW;c7.isMoment=bO;c7.weekdays=c6;c7.parseZone=aY;c7.localeData=n;c7.isDuration=J;c7.monthsShort=bx;c7.weekdaysMin=cY;c7.defineLocale=k;c7.weekdaysShort=dj;c7.normalizeUnits=Y;c7.relativeTimeThreshold=aj;var cc=c7;return cc}));(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?a(require("../moment")):typeof define==="function"&&define.amd?define(["moment"],a):a(b.moment)}(this,function(f){function d(j,i){var h=j.split("_");return i%10===1&&i%100!==11?h[0]:(i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?h[1]:h[2])}function g(j,i,h){var k={mm:i?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};if(h==="m"){return i?"":""}else{return j+" "+d(k[h],+j)}}function e(i,k){var h={nominative:"___________".split("_"),accusative:"___________".split("_")},j=(/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/).test(k)?"accusative":"nominative";return h[j][i.month()]}function c(h,k){var j={nominative:"___________".split("_"),accusative:"___________".split("_")},i=(/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/).test(k)?"accusative":"nominative";return j[i][h.month()]}function b(h,k){var i={nominative:"______".split("_"),accusative:"______".split("_")},j=(/\[ ?[] ?(?:||)? ?\] ?dddd/).test(k)?"accusative":"nominative";return i[j][h.day()]}var a=f.defineLocale("ru",{months:e,monthsShort:c,weekdays:b,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:[/^/i,/^/i,/^/i,/^/i,/^[|]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],longDateFormat:{LT:"HH:mm",LTS:"LT:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return this.day()===2?"[] dddd [] LT":"[] dddd [] LT"},lastWeek:function(h){if(h.week()!==this.week()){switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}}else{if(this.day()===2){return"[] dddd [] LT"}else{return"[] dddd [] LT"}}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:g,mm:g,h:"",hh:g,d:"",dd:g,M:"",MM:g,y:"",yy:g},meridiemParse:/|||/i,isPM:function(h){return/^(|)$/.test(h)},meridiem:function(h,j,i){if(h<4){return""}else{if(h<12){return""}else{if(h<17){return""}else{return""}}}},ordinalParse:/\d{1,2}-(||)/,ordinal:function(h,i){switch(i){case"M":case"d":case"DDD":return h+"-";case"D":return h+"-";case"w":case"W":return h+"-";default:return h}},week:{dow:1,doy:7}});return a}));
/*! version : 4.14.30
 =========================================================
 bootstrap-datetimejs
 https://github.com/Eonasdan/bootstrap-datetimepicker
 Copyright (c) 2015 Jonathan Peterson
 =========================================================
 */
;!function(b){if("function"==typeof define&&define.amd){define(["jquery","moment"],b)}else{if("object"==typeof exports){b(require("jquery"),require("moment"))}else{if("undefined"==typeof jQuery){throw"bootstrap-datetimepicker requires jQuery to be loaded first"}if("undefined"==typeof moment){throw"bootstrap-datetimepicker requires Moment.js to be loaded first"}b(jQuery,moment)}}}(function(e,d){if(!d){throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first")}var f=function(bc,bb){var a9,a8,a7,a6,a5,a4={},a3=d().startOf("d"),a2=a3.clone(),a1=!0,a0=!1,aZ=!1,aY=0,aX=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],aW=["days","months","years","decades"],aV=["top","bottom","auto"],aU=["left","right","auto"],aT=["default","top","bottom"],aS={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},aR={},aQ=function(c){if("string"!=typeof c||c.length>1){throw new TypeError("isEnabled expects a single character string parameter")}switch(c){case"y":return -1!==a7.indexOf("Y");case"M":return -1!==a7.indexOf("M");case"d":return -1!==a7.toLowerCase().indexOf("d");case"h":case"H":return -1!==a7.toLowerCase().indexOf("h");case"m":return -1!==a7.indexOf("m");case"s":return -1!==a7.indexOf("s");default:return !1}},aO=function(){return aQ("h")||aQ("m")||aQ("s")},aN=function(){return aQ("y")||aQ("M")||aQ("d")},aD=function(){var g=e("<thead>").append(e("<tr>").append(e("<th>").addClass("prev").attr("data-action","previous").append(e("<span>").addClass(bb.icons.previous))).append(e("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",bb.calendarWeeks?"6":"5")).append(e("<th>").addClass("next").attr("data-action","next").append(e("<span>").addClass(bb.icons.next)))),h=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",bb.calendarWeeks?"8":"7")));return[e("<div>").addClass("datepicker-days").append(e("<table>").addClass("table-condensed").append(g).append(e("<tbody>"))),e("<div>").addClass("datepicker-months").append(e("<table>").addClass("table-condensed").append(g.clone()).append(h.clone())),e("<div>").addClass("datepicker-years").append(e("<table>").addClass("table-condensed").append(g.clone()).append(h.clone())),e("<div>").addClass("datepicker-decades").append(e("<table>").addClass("table-condensed").append(g.clone()).append(h.clone()))]},aC=function(){var g=e("<tr>"),i=e("<tr>"),h=e("<tr>");return aQ("h")&&(g.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:"Increment Hour"}).addClass("btn").attr("data-action","incrementHours").append(e("<span>").addClass(bb.icons.up)))),i.append(e("<td>").append(e("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:"Pick Hour"}).attr("data-action","showHours"))),h.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Hour"}).addClass("btn").attr("data-action","decrementHours").append(e("<span>").addClass(bb.icons.down))))),aQ("m")&&(aQ("h")&&(g.append(e("<td>").addClass("separator")),i.append(e("<td>").addClass("separator").html(":")),h.append(e("<td>").addClass("separator"))),g.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:"Increment Minute"}).addClass("btn").attr("data-action","incrementMinutes").append(e("<span>").addClass(bb.icons.up)))),i.append(e("<td>").append(e("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:"Pick Minute"}).attr("data-action","showMinutes"))),h.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Minute"}).addClass("btn").attr("data-action","decrementMinutes").append(e("<span>").addClass(bb.icons.down))))),aQ("s")&&(aQ("m")&&(g.append(e("<td>").addClass("separator")),i.append(e("<td>").addClass("separator").html(":")),h.append(e("<td>").addClass("separator"))),g.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:"Increment Second"}).addClass("btn").attr("data-action","incrementSeconds").append(e("<span>").addClass(bb.icons.up)))),i.append(e("<td>").append(e("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:"Pick Second"}).attr("data-action","showSeconds"))),h.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:"Decrement Second"}).addClass("btn").attr("data-action","decrementSeconds").append(e("<span>").addClass(bb.icons.down))))),a8||(g.append(e("<td>").addClass("separator")),i.append(e("<td>").append(e("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:"Toggle Period"}))),h.append(e("<td>").addClass("separator"))),e("<div>").addClass("timepicker-picker").append(e("<table>").addClass("table-condensed").append([g,i,h]))},aB=function(){var g=e("<div>").addClass("timepicker-hours").append(e("<table>").addClass("table-condensed")),j=e("<div>").addClass("timepicker-minutes").append(e("<table>").addClass("table-condensed")),i=e("<div>").addClass("timepicker-seconds").append(e("<table>").addClass("table-condensed")),h=[aC()];return aQ("h")&&h.push(g),aQ("m")&&h.push(j),aQ("s")&&h.push(i),h},aA=function(){var c=[];return bb.showTodayButton&&c.push(e("<td>").append(e("<a>").attr({"data-action":"today",title:"Go to today"}).append(e("<span>").addClass(bb.icons.today)))),!bb.sideBySide&&aN()&&aO()&&c.push(e("<td>").append(e("<a>").attr({"data-action":"togglePicker",title:"Select Time"}).append(e("<span>").addClass(bb.icons.time)))),bb.showClear&&c.push(e("<td>").append(e("<a>").attr({"data-action":"clear",title:"Clear selection"}).append(e("<span>").addClass(bb.icons.clear)))),bb.showClose&&c.push(e("<td>").append(e("<a>").attr({"data-action":"close",title:"Close the picker"}).append(e("<span>").addClass(bb.icons.close)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(c)))},az=function(){var i=e("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),m=e("<div>").addClass("datepicker").append(aD()),l=e("<div>").addClass("timepicker").append(aB()),k=e("<ul>").addClass("list-unstyled"),j=e("<li>").addClass("picker-switch"+(bb.collapse?" accordion-toggle":"")).append(aA());return bb.inline&&i.removeClass("dropdown-menu"),a8&&i.addClass("usetwentyfour"),aQ("s")&&!a8&&i.addClass("wider"),bb.sideBySide&&aN()&&aO()?(i.addClass("timepicker-sbs"),i.append(e("<div>").addClass("row").append(m.addClass("col-sm-6")).append(l.addClass("col-sm-6"))),i.append(j),i):("top"===bb.toolbarPlacement&&k.append(j),aN()&&k.append(e("<li>").addClass(bb.collapse&&aO()?"collapse in":"").append(m)),"default"===bb.toolbarPlacement&&k.append(j),aO()&&k.append(e("<li>").addClass(bb.collapse&&aN()?"collapse":"").append(l)),"bottom"===bb.toolbarPlacement&&k.append(j),i.append(k))},ay=function(){var c,g={};return c=bc.is("input")||bb.inline?bc.data():bc.find("input").data(),c.dateOptions&&c.dateOptions instanceof Object&&(g=e.extend(!0,g,c.dateOptions)),e.each(bb,function(h){var i="date"+h.charAt(0).toUpperCase()+h.slice(1);void 0!==c[i]&&(g[h]=c[i])}),g},ax=function(){var c,l=(a0||bc).position(),k=(a0||bc).offset(),j=bb.widgetPositioning.vertical,i=bb.widgetPositioning.horizontal;if(bb.widgetParent){c=bb.widgetParent.append(aZ)}else{if(bc.is("input")){c=bc.after(aZ).parent()}else{if(bb.inline){return void (c=bc.append(aZ))}c=bc,bc.children().first().after(aZ)}}if("auto"===j&&(j=k.top+1.5*aZ.height()>=e(window).height()+e(window).scrollTop()&&aZ.height()+bc.outerHeight()<k.top?"top":"bottom"),"auto"===i&&(i=c.width()<k.left+aZ.outerWidth()/2&&k.left+aZ.outerWidth()>e(window).width()?"right":"left"),"top"===j?aZ.addClass("top").removeClass("bottom"):aZ.addClass("bottom").removeClass("top"),"right"===i?aZ.addClass("pull-right"):aZ.removeClass("pull-right"),"relative"!==c.css("position")&&(c=c.parents().filter(function(){return"relative"===e(this).css("position")}).first()),0===c.length){throw new Error("datetimepicker component should be placed within a relative positioned container")}aZ.css({top:"top"===j?"auto":l.top+bc.outerHeight(),bottom:"top"===j?l.top+bc.outerHeight():"auto",left:"left"===i?c===bc?0:l.left:"auto",right:"left"===i?"auto":c.outerWidth()-bc.outerWidth()-(c===bc?0:l.left)})},aw=function(c){"dp.change"===c.type&&(c.date&&c.date.isSame(c.oldDate)||!c.date&&!c.oldDate)||bc.trigger(c)},av=function(c){"y"===c&&(c="YYYY"),aw({type:"dp.update",change:c,viewDate:a2.clone()})},au=function(c){aZ&&(c&&(a5=Math.max(aY,Math.min(3,a5+c))),aZ.find(".datepicker > div").hide().filter(".datepicker-"+aX[a5].clsName).show())},at=function(){var g=e("<tr>"),h=a2.clone().startOf("w").startOf("d");for(bb.calendarWeeks===!0&&g.append(e("<th>").addClass("cw").text("#"));h.isBefore(a2.clone().endOf("w"));){g.append(e("<th>").addClass("dow").text(h.format("dd"))),h.add(1,"d")}aZ.find(".datepicker-days thead").append(g)},ar=function(c){return bb.disabledDates[c.format("YYYY-MM-DD")]===!0},aq=function(c){return bb.enabledDates[c.format("YYYY-MM-DD")]===!0},ap=function(c){return bb.disabledHours[c.format("H")]===!0},ao=function(c){return bb.enabledHours[c.format("H")]===!0},an=function(g,i){if(!g.isValid()){return !1}if(bb.disabledDates&&"d"===i&&ar(g)){return !1}if(bb.enabledDates&&"d"===i&&!aq(g)){return !1}if(bb.minDate&&g.isBefore(bb.minDate,i)){return !1}if(bb.maxDate&&g.isAfter(bb.maxDate,i)){return !1}if(bb.daysOfWeekDisabled&&"d"===i&&-1!==bb.daysOfWeekDisabled.indexOf(g.day())){return !1}if(bb.disabledHours&&("h"===i||"m"===i||"s"===i)&&ap(g)){return !1}if(bb.enabledHours&&("h"===i||"m"===i||"s"===i)&&!ao(g)){return !1}if(bb.disabledTimeIntervals&&("h"===i||"m"===i||"s"===i)){var h=!1;if(e.each(bb.disabledTimeIntervals,function(){return g.isBetween(this[0],this[1])?(h=!0,!1):void 0}),h){return !1}}return !0},am=function(){for(var g=[],h=a2.clone().startOf("y").startOf("d");h.isSame(a2,"y");){g.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(h.format("MMM"))),h.add(1,"M")}aZ.find(".datepicker-months td").empty().append(g)},al=function(){var g=aZ.find(".datepicker-months"),i=g.find("th"),h=g.find("tbody").find("span");i.eq(0).find("span").attr("title","Previous Year"),i.eq(1).attr("title","Select Year"),i.eq(2).find("span").attr("title","Next Year"),g.find(".disabled").removeClass("disabled"),an(a2.clone().subtract(1,"y"),"y")||i.eq(0).addClass("disabled"),i.eq(1).text(a2.year()),an(a2.clone().add(1,"y"),"y")||i.eq(2).addClass("disabled"),h.removeClass("active"),a3.isSame(a2,"y")&&!a1&&h.eq(a3.month()).addClass("active"),h.each(function(c){an(a2.clone().month(c),"M")||e(this).addClass("disabled")})},ak=function(){var h=aZ.find(".datepicker-years"),g=h.find("th"),k=a2.clone().subtract(5,"y"),j=a2.clone().add(6,"y"),i="";for(g.eq(0).find("span").attr("title","Previous Decade"),g.eq(1).attr("title","Select Decade"),g.eq(2).find("span").attr("title","Next Decade"),h.find(".disabled").removeClass("disabled"),bb.minDate&&bb.minDate.isAfter(k,"y")&&g.eq(0).addClass("disabled"),g.eq(1).text(k.year()+"-"+j.year()),bb.maxDate&&bb.maxDate.isBefore(j,"y")&&g.eq(2).addClass("disabled");!k.isAfter(j,"y");){i+='<span data-action="selectYear" class="year'+(k.isSame(a3,"y")&&!a1?" active":"")+(an(k,"y")?"":" disabled")+'">'+k.year()+"</span>",k.add(1,"y")}h.find("td").html(i)},aj=function(){var h=aZ.find(".datepicker-decades"),l=h.find("th"),k=d(a2.isBefore(d({y:1999}))?{y:1899}:{y:1999}),j=k.clone().add(100,"y"),i="";for(l.eq(0).find("span").attr("title","Previous Century"),l.eq(2).find("span").attr("title","Next Century"),h.find(".disabled").removeClass("disabled"),(k.isSame(d({y:1900}))||bb.minDate&&bb.minDate.isAfter(k,"y"))&&l.eq(0).addClass("disabled"),l.eq(1).text(k.year()+"-"+j.year()),(k.isSame(d({y:2000}))||bb.maxDate&&bb.maxDate.isBefore(j,"y"))&&l.eq(2).addClass("disabled");!k.isAfter(j,"y");){i+='<span data-action="selectDecade" class="decade'+(k.isSame(a3,"y")?" active":"")+(an(k,"y")?"":" disabled")+'" data-selection="'+(k.year()+6)+'">'+(k.year()+1)+" - "+(k.year()+12)+"</span>",k.add(12,"y")}i+="<span></span><span></span><span></span>",h.find("td").html(i)},ai=function(){var q,p,o,n,m=aZ.find(".datepicker-days"),l=m.find("th"),k=[];if(aN()){for(l.eq(0).find("span").attr("title","Previous Month"),l.eq(1).attr("title","Select Month"),l.eq(2).find("span").attr("title","Next Month"),m.find(".disabled").removeClass("disabled"),l.eq(1).text(a2.format(bb.dayViewHeaderFormat)),an(a2.clone().subtract(1,"M"),"M")||l.eq(0).addClass("disabled"),an(a2.clone().add(1,"M"),"M")||l.eq(2).addClass("disabled"),q=a2.clone().startOf("M").startOf("w").startOf("d"),n=0;42>n;n++){0===q.weekday()&&(p=e("<tr>"),bb.calendarWeeks&&p.append('<td class="cw">'+q.week()+"</td>"),k.push(p)),o="",q.isBefore(a2,"M")&&(o+=" old"),q.isAfter(a2,"M")&&(o+=" new"),q.isSame(a3,"d")&&!a1&&(o+=" active"),an(q,"d")||(o+=" disabled"),q.isSame(d(),"d")&&(o+=" today"),(0===q.day()||6===q.day())&&(o+=" weekend"),p.append('<td data-action="selectDay" data-day="'+q.format("L")+'" class="day'+o+'">'+q.date()+"</td>"),q.add(1,"d")}m.find("tbody").empty().append(k),al(),ak(),aj()}},ah=function(){var g=aZ.find(".timepicker-hours table"),j=a2.clone().startOf("d"),i=[],h=e("<tr>");for(a2.hour()>11&&!a8&&j.hour(12);j.isSame(a2,"d")&&(a8||a2.hour()<12&&j.hour()<12||a2.hour()>11);){j.hour()%4===0&&(h=e("<tr>"),i.push(h)),h.append('<td data-action="selectHour" class="hour'+(an(j,"h")?"":" disabled")+'">'+j.format(a8?"HH":"hh")+"</td>"),j.add(1,"h")}g.empty().append(i)},ag=function(){for(var h=aZ.find(".timepicker-minutes table"),l=a2.clone().startOf("h"),k=[],j=e("<tr>"),i=1===bb.stepping?5:bb.stepping;a2.isSame(l,"h");){l.minute()%(4*i)===0&&(j=e("<tr>"),k.push(j)),j.append('<td data-action="selectMinute" class="minute'+(an(l,"m")?"":" disabled")+'">'+l.format("mm")+"</td>"),l.add(i,"m")}h.empty().append(k)},ae=function(){for(var g=aZ.find(".timepicker-seconds table"),j=a2.clone().startOf("m"),i=[],h=e("<tr>");a2.isSame(j,"m");){j.second()%20===0&&(h=e("<tr>"),i.push(h)),h.append('<td data-action="selectSecond" class="second'+(an(j,"s")?"":" disabled")+'">'+j.format("ss")+"</td>"),j.add(5,"s")}g.empty().append(i)},ad=function(){var h,g,i=aZ.find(".timepicker span[data-time-component]");a8||(h=aZ.find(".timepicker [data-action=togglePeriod]"),g=a3.clone().add(a3.hours()>=12?-12:12,"h"),h.text(a3.format("A")),an(g,"h")?h.removeClass("disabled"):h.addClass("disabled")),i.filter("[data-time-component=hours]").text(a3.format(a8?"HH":"hh")),i.filter("[data-time-component=minutes]").text(a3.format("mm")),i.filter("[data-time-component=seconds]").text(a3.format("ss")),ah(),ag(),ae()},ab=function(){aZ&&(ai(),ad())},aJ=function(g){var c=a1?null:a3;return g?(g=g.clone().locale(bb.locale),1!==bb.stepping&&g.minutes(Math.round(g.minutes()/bb.stepping)*bb.stepping%60).seconds(0),void (an(g)?(a3=g,a2=a3.clone(),a9.val(a3.format(a7)),bc.data("date",a3.format(a7)),a1=!1,ab(),aw({type:"dp.change",date:a3.clone(),oldDate:c})):(bb.keepInvalid||a9.val(a1?"":a3.format(a7)),aw({type:"dp.error",date:g})))):(a1=!0,a9.val(""),bc.data("date",""),aw({type:"dp.change",date:!1,oldDate:c}),void ab())},be=function(){var c=!1;return aZ?(aZ.find(".collapse").each(function(){var g=e(this).data("collapse");return g&&g.transitioning?(c=!0,!1):!0}),c?a4:(a0&&a0.hasClass("btn")&&a0.toggleClass("active"),aZ.hide(),e(window).off("resize",ax),aZ.off("click","[data-action]"),aZ.off("mousedown",!1),aZ.remove(),aZ=!1,aw({type:"dp.hide",date:a3.clone()}),a4)):a4},aE=function(){aJ(null)},bd={next:function(){var c=aX[a5].navFnc;a2.add(aX[a5].navStep,c),ai(),av(c)},previous:function(){var c=aX[a5].navFnc;a2.subtract(aX[a5].navStep,c),ai(),av(c)},pickerSwitch:function(){au(1)},selectMonth:function(g){var h=e(g.target).closest("tbody").find("span").index(e(g.target));a2.month(h),a5===aY?(aJ(a3.clone().year(a2.year()).month(a2.month())),bb.inline||be()):(au(-1),ai()),av("M")},selectYear:function(g){var h=parseInt(e(g.target).text(),10)||0;a2.year(h),a5===aY?(aJ(a3.clone().year(a2.year())),bb.inline||be()):(au(-1),ai()),av("YYYY")},selectDecade:function(g){var h=parseInt(e(g.target).data("selection"),10)||0;a2.year(h),a5===aY?(aJ(a3.clone().year(a2.year())),bb.inline||be()):(au(-1),ai()),av("YYYY")},selectDay:function(g){var h=a2.clone();e(g.target).is(".old")&&h.subtract(1,"M"),e(g.target).is(".new")&&h.add(1,"M"),aJ(h.date(parseInt(e(g.target).text(),10))),aO()||bb.keepOpen||bb.inline||be()},incrementHours:function(){var c=a3.clone().add(1,"h");an(c,"h")&&aJ(c)},incrementMinutes:function(){var c=a3.clone().add(bb.stepping,"m");an(c,"m")&&aJ(c)},incrementSeconds:function(){var c=a3.clone().add(1,"s");an(c,"s")&&aJ(c)},decrementHours:function(){var c=a3.clone().subtract(1,"h");an(c,"h")&&aJ(c)},decrementMinutes:function(){var c=a3.clone().subtract(bb.stepping,"m");an(c,"m")&&aJ(c)},decrementSeconds:function(){var c=a3.clone().subtract(1,"s");an(c,"s")&&aJ(c)},togglePeriod:function(){aJ(a3.clone().add(a3.hours()>=12?-12:12,"h"))},togglePicker:function(i){var n,m=e(i.target),l=m.closest("ul"),k=l.find(".in"),j=l.find(".collapse:not(.in)");if(k&&k.length){if(n=k.data("collapse"),n&&n.transitioning){return}k.collapse?(k.collapse("hide"),j.collapse("show")):(k.removeClass("in"),j.addClass("in")),m.is("span")?m.toggleClass(bb.icons.time+" "+bb.icons.date):m.find("span").toggleClass(bb.icons.time+" "+bb.icons.date)}},showPicker:function(){aZ.find(".timepicker > div:not(.timepicker-picker)").hide(),aZ.find(".timepicker .timepicker-picker").show()},showHours:function(){aZ.find(".timepicker .timepicker-picker").hide(),aZ.find(".timepicker .timepicker-hours").show()},showMinutes:function(){aZ.find(".timepicker .timepicker-picker").hide(),aZ.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){aZ.find(".timepicker .timepicker-picker").hide(),aZ.find(".timepicker .timepicker-seconds").show()},selectHour:function(g){var h=parseInt(e(g.target).text(),10);a8||(a3.hours()>=12?12!==h&&(h+=12):12===h&&(h=0)),aJ(a3.clone().hours(h)),bd.showPicker.call(a4)},selectMinute:function(c){aJ(a3.clone().minutes(parseInt(e(c.target).text(),10))),bd.showPicker.call(a4)},selectSecond:function(c){aJ(a3.clone().seconds(parseInt(e(c.target).text(),10))),bd.showPicker.call(a4)},clear:aE,today:function(){an(d(),"d")&&aJ(d())},close:be},aK=function(c){return e(c.currentTarget).is(".disabled")?!1:(bd[e(c.currentTarget).data("action")].apply(a4,arguments),!1)},aF=function(){var h,g={year:function(c){return c.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(c){return c.date(1).hours(0).seconds(0).minutes(0)},day:function(c){return c.hours(0).seconds(0).minutes(0)},hour:function(c){return c.seconds(0).minutes(0)},minute:function(c){return c.seconds(0)}};return a9.prop("disabled")||!bb.ignoreReadonly&&a9.prop("readonly")||aZ?a4:(void 0!==a9.val()&&0!==a9.val().trim().length?aJ(aL(a9.val().trim())):bb.useCurrent&&a1&&(a9.is("input")&&0===a9.val().trim().length||bb.inline)&&(h=d(),"string"==typeof bb.useCurrent&&(h=g[bb.useCurrent](h)),aJ(h)),aZ=az(),at(),am(),aZ.find(".timepicker-hours").hide(),aZ.find(".timepicker-minutes").hide(),aZ.find(".timepicker-seconds").hide(),ab(),au(),e(window).on("resize",ax),aZ.on("click","[data-action]",aK),aZ.on("mousedown",!1),a0&&a0.hasClass("btn")&&a0.toggleClass("active"),aZ.show(),ax(),bb.focusOnShow&&!a9.is(":focus")&&a9.focus(),aw({type:"dp.show"}),a4)},a=function(){return aZ?be():aF()},aL=function(c){return c=d.isMoment(c)||c instanceof Date?d(c):d(c,a6,bb.useStrict),c.locale(bb.locale),c},aG=function(u){var t,s,r,q,p=null,o=[],n={},m=u.which,j="p";aR[m]=j;for(t in aR){aR.hasOwnProperty(t)&&aR[t]===j&&(o.push(t),parseInt(t,10)!==m&&(n[t]=!0))}for(t in bb.keyBinds){if(bb.keyBinds.hasOwnProperty(t)&&"function"==typeof bb.keyBinds[t]&&(r=t.split(" "),r.length===o.length&&aS[m]===r[r.length-1])){for(q=!0,s=r.length-2;s>=0;s--){if(!(aS[r[s]] in n)){q=!1;break}}if(q){p=bb.keyBinds[t];break}}}p&&(p.call(a4,aZ),u.stopPropagation(),u.preventDefault())},b=function(c){aR[c.which]="r",c.stopPropagation(),c.preventDefault()},aM=function(g){var i=e(g.target).val().trim(),h=i?aL(i):null;return aJ(h),g.stopImmediatePropagation(),!1},aH=function(){a9.on({change:aM,blur:bb.debug?"":be,keydown:aG,keyup:b,focus:bb.allowInputToggle?aF:""}),bc.is("input")?a9.on({focus:aF}):a0&&(a0.on("click",a),a0.on("mousedown",!1))},ac=function(){a9.off({change:aM,blur:be,keydown:aG,keyup:b,focus:bb.allowInputToggle?be:""}),bc.is("input")?a9.off({focus:aF}):a0&&(a0.off("click",a),a0.off("mousedown",!1))},aP=function(g){var h={};return e.each(g,function(){var c=aL(this);c.isValid()&&(h[c.format("YYYY-MM-DD")]=!0)}),Object.keys(h).length?h:!1},aI=function(g){var h={};return e.each(g,function(){h[this]=!0}),Object.keys(h).length?h:!1},af=function(){var c=bb.format||"L LT";a7=c.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(h){var g=a3.localeData().longDateFormat(h)||h;return g.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(i){return a3.localeData().longDateFormat(i)||i})}),a6=bb.extraFormats?bb.extraFormats.slice():[],a6.indexOf(c)<0&&a6.indexOf(a7)<0&&a6.push(a7),a8=a7.toLowerCase().indexOf("a")<1&&a7.replace(/\[.*?\]/g,"").indexOf("h")<1,aQ("y")&&(aY=2),aQ("M")&&(aY=1),aQ("d")&&(aY=0),a5=Math.max(aY,a5),a1||aJ(a3)};if(a4.destroy=function(){be(),ac(),bc.removeData("DateTimePicker"),bc.removeData("date")},a4.toggle=a,a4.show=aF,a4.hide=be,a4.disable=function(){return be(),a0&&a0.hasClass("btn")&&a0.addClass("disabled"),a9.prop("disabled",!0),a4},a4.enable=function(){return a0&&a0.hasClass("btn")&&a0.removeClass("disabled"),a9.prop("disabled",!1),a4},a4.ignoreReadonly=function(c){if(0===arguments.length){return bb.ignoreReadonly}if("boolean"!=typeof c){throw new TypeError("ignoreReadonly () expects a boolean parameter")}return bb.ignoreReadonly=c,a4},a4.options=function(c){if(0===arguments.length){return e.extend(!0,{},bb)}if(!(c instanceof Object)){throw new TypeError("options() options parameter should be an object")}return e.extend(!0,bb,c),e.each(bb,function(h,g){if(void 0===a4[h]){throw new TypeError("option "+h+" is not recognized!")}a4[h](g)}),a4},a4.date=function(c){if(0===arguments.length){return a1?null:a3.clone()}if(!(null===c||"string"==typeof c||d.isMoment(c)||c instanceof Date)){throw new TypeError("date() parameter must be one of [null, string, moment or Date]")}return aJ(null===c?null:aL(c)),a4},a4.format=function(c){if(0===arguments.length){return bb.format}if("string"!=typeof c&&("boolean"!=typeof c||c!==!1)){throw new TypeError("format() expects a sting or boolean:false parameter "+c)}return bb.format=c,a7&&af(),a4},a4.dayViewHeaderFormat=function(c){if(0===arguments.length){return bb.dayViewHeaderFormat}if("string"!=typeof c){throw new TypeError("dayViewHeaderFormat() expects a string parameter")}return bb.dayViewHeaderFormat=c,a4},a4.extraFormats=function(c){if(0===arguments.length){return bb.extraFormats}if(c!==!1&&!(c instanceof Array)){throw new TypeError("extraFormats() expects an array or false parameter")}return bb.extraFormats=c,a6&&af(),a4},a4.disabledDates=function(c){if(0===arguments.length){return bb.disabledDates?e.extend({},bb.disabledDates):bb.disabledDates}if(!c){return bb.disabledDates=!1,ab(),a4}if(!(c instanceof Array)){throw new TypeError("disabledDates() expects an array parameter")}return bb.disabledDates=aP(c),bb.enabledDates=!1,ab(),a4},a4.enabledDates=function(c){if(0===arguments.length){return bb.enabledDates?e.extend({},bb.enabledDates):bb.enabledDates}if(!c){return bb.enabledDates=!1,ab(),a4}if(!(c instanceof Array)){throw new TypeError("enabledDates() expects an array parameter")}return bb.enabledDates=aP(c),bb.disabledDates=!1,ab(),a4},a4.daysOfWeekDisabled=function(g){if(0===arguments.length){return bb.daysOfWeekDisabled.splice(0)}if("boolean"==typeof g&&!g){return bb.daysOfWeekDisabled=!1,ab(),a4}if(!(g instanceof Array)){throw new TypeError("daysOfWeekDisabled() expects an array parameter")}if(bb.daysOfWeekDisabled=g.reduce(function(i,h){return h=parseInt(h,10),h>6||0>h||isNaN(h)?i:(-1===i.indexOf(h)&&i.push(h),i)},[]).sort(),bb.useCurrent&&!bb.keepInvalid){for(var c=0;!an(a3,"d");){if(a3.add(1,"d"),7===c){throw"Tried 7 times to find a valid date"}c++}aJ(a3)}return ab(),a4},a4.maxDate=function(g){if(0===arguments.length){return bb.maxDate?bb.maxDate.clone():bb.maxDate}if("boolean"==typeof g&&g===!1){return bb.maxDate=!1,ab(),a4}"string"==typeof g&&("now"===g||"moment"===g)&&(g=d());var h=aL(g);if(!h.isValid()){throw new TypeError("maxDate() Could not parse date parameter: "+g)}if(bb.minDate&&h.isBefore(bb.minDate)){throw new TypeError("maxDate() date parameter is before options.minDate: "+h.format(a7))}return bb.maxDate=h,bb.useCurrent&&!bb.keepInvalid&&a3.isAfter(g)&&aJ(bb.maxDate),a2.isAfter(h)&&(a2=h.clone()),ab(),a4},a4.minDate=function(g){if(0===arguments.length){return bb.minDate?bb.minDate.clone():bb.minDate}if("boolean"==typeof g&&g===!1){return bb.minDate=!1,ab(),a4}"string"==typeof g&&("now"===g||"moment"===g)&&(g=d());var h=aL(g);if(!h.isValid()){throw new TypeError("minDate() Could not parse date parameter: "+g)}if(bb.maxDate&&h.isAfter(bb.maxDate)){throw new TypeError("minDate() date parameter is after options.maxDate: "+h.format(a7))}return bb.minDate=h,bb.useCurrent&&!bb.keepInvalid&&a3.isBefore(g)&&aJ(bb.minDate),a2.isBefore(h)&&(a2=h.clone()),ab(),a4},a4.defaultDate=function(g){if(0===arguments.length){return bb.defaultDate?bb.defaultDate.clone():bb.defaultDate}if(!g){return bb.defaultDate=!1,a4}"string"==typeof g&&("now"===g||"moment"===g)&&(g=d());var h=aL(g);if(!h.isValid()){throw new TypeError("defaultDate() Could not parse date parameter: "+g)}if(!an(h)){throw new TypeError("defaultDate() date passed is invalid according to component setup validations")}return bb.defaultDate=h,(bb.defaultDate&&bb.inline||""===a9.val().trim()&&void 0===a9.attr("placeholder"))&&aJ(bb.defaultDate),a4},a4.locale=function(c){if(0===arguments.length){return bb.locale}if(!d.localeData(c)){throw new TypeError("locale() locale "+c+" is not loaded from moment locales!")}return bb.locale=c,a3.locale(bb.locale),a2.locale(bb.locale),a7&&af(),aZ&&(be(),aF()),a4},a4.stepping=function(c){return 0===arguments.length?bb.stepping:(c=parseInt(c,10),(isNaN(c)||1>c)&&(c=1),bb.stepping=c,a4)},a4.useCurrent=function(g){var c=["year","month","day","hour","minute"];if(0===arguments.length){return bb.useCurrent}if("boolean"!=typeof g&&"string"!=typeof g){throw new TypeError("useCurrent() expects a boolean or string parameter")}if("string"==typeof g&&-1===c.indexOf(g.toLowerCase())){throw new TypeError("useCurrent() expects a string parameter of "+c.join(", "))}return bb.useCurrent=g,a4},a4.collapse=function(c){if(0===arguments.length){return bb.collapse}if("boolean"!=typeof c){throw new TypeError("collapse() expects a boolean parameter")}return bb.collapse===c?a4:(bb.collapse=c,aZ&&(be(),aF()),a4)},a4.icons=function(c){if(0===arguments.length){return e.extend({},bb.icons)}if(!(c instanceof Object)){throw new TypeError("icons() expects parameter to be an Object")}return e.extend(bb.icons,c),aZ&&(be(),aF()),a4},a4.useStrict=function(c){if(0===arguments.length){return bb.useStrict}if("boolean"!=typeof c){throw new TypeError("useStrict() expects a boolean parameter")}return bb.useStrict=c,a4},a4.sideBySide=function(c){if(0===arguments.length){return bb.sideBySide}if("boolean"!=typeof c){throw new TypeError("sideBySide() expects a boolean parameter")}return bb.sideBySide=c,aZ&&(be(),aF()),a4},a4.viewMode=function(c){if(0===arguments.length){return bb.viewMode}if("string"!=typeof c){throw new TypeError("viewMode() expects a string parameter")}if(-1===aW.indexOf(c)){throw new TypeError("viewMode() parameter must be one of ("+aW.join(", ")+") value")}return bb.viewMode=c,a5=Math.max(aW.indexOf(c),aY),au(),a4},a4.toolbarPlacement=function(c){if(0===arguments.length){return bb.toolbarPlacement}if("string"!=typeof c){throw new TypeError("toolbarPlacement() expects a string parameter")}if(-1===aT.indexOf(c)){throw new TypeError("toolbarPlacement() parameter must be one of ("+aT.join(", ")+") value")}return bb.toolbarPlacement=c,aZ&&(be(),aF()),a4},a4.widgetPositioning=function(c){if(0===arguments.length){return e.extend({},bb.widgetPositioning)}if("[object Object]"!=={}.toString.call(c)){throw new TypeError("widgetPositioning() expects an object variable")}if(c.horizontal){if("string"!=typeof c.horizontal){throw new TypeError("widgetPositioning() horizontal variable must be a string")}if(c.horizontal=c.horizontal.toLowerCase(),-1===aU.indexOf(c.horizontal)){throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+aU.join(", ")+")")}bb.widgetPositioning.horizontal=c.horizontal}if(c.vertical){if("string"!=typeof c.vertical){throw new TypeError("widgetPositioning() vertical variable must be a string")}if(c.vertical=c.vertical.toLowerCase(),-1===aV.indexOf(c.vertical)){throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+aV.join(", ")+")")}bb.widgetPositioning.vertical=c.vertical}return ab(),a4},a4.calendarWeeks=function(c){if(0===arguments.length){return bb.calendarWeeks}if("boolean"!=typeof c){throw new TypeError("calendarWeeks() expects parameter to be a boolean value")}return bb.calendarWeeks=c,ab(),a4},a4.showTodayButton=function(c){if(0===arguments.length){return bb.showTodayButton}if("boolean"!=typeof c){throw new TypeError("showTodayButton() expects a boolean parameter")}return bb.showTodayButton=c,aZ&&(be(),aF()),a4},a4.showClear=function(c){if(0===arguments.length){return bb.showClear}if("boolean"!=typeof c){throw new TypeError("showClear() expects a boolean parameter")}return bb.showClear=c,aZ&&(be(),aF()),a4},a4.widgetParent=function(c){if(0===arguments.length){return bb.widgetParent}if("string"==typeof c&&(c=e(c)),null!==c&&"string"!=typeof c&&!(c instanceof e)){throw new TypeError("widgetParent() expects a string or a jQuery object parameter")}return bb.widgetParent=c,aZ&&(be(),aF()),a4},a4.keepOpen=function(c){if(0===arguments.length){return bb.keepOpen}if("boolean"!=typeof c){throw new TypeError("keepOpen() expects a boolean parameter")}return bb.keepOpen=c,a4},a4.focusOnShow=function(c){if(0===arguments.length){return bb.focusOnShow}if("boolean"!=typeof c){throw new TypeError("focusOnShow() expects a boolean parameter")}return bb.focusOnShow=c,a4},a4.inline=function(c){if(0===arguments.length){return bb.inline}if("boolean"!=typeof c){throw new TypeError("inline() expects a boolean parameter")}return bb.inline=c,a4},a4.clear=function(){return aE(),a4},a4.keyBinds=function(c){return bb.keyBinds=c,a4},a4.debug=function(c){if("boolean"!=typeof c){throw new TypeError("debug() expects a boolean parameter")}return bb.debug=c,a4},a4.allowInputToggle=function(c){if(0===arguments.length){return bb.allowInputToggle}if("boolean"!=typeof c){throw new TypeError("allowInputToggle() expects a boolean parameter")}return bb.allowInputToggle=c,a4},a4.showClose=function(c){if(0===arguments.length){return bb.showClose}if("boolean"!=typeof c){throw new TypeError("showClose() expects a boolean parameter")}return bb.showClose=c,a4},a4.keepInvalid=function(c){if(0===arguments.length){return bb.keepInvalid}if("boolean"!=typeof c){throw new TypeError("keepInvalid() expects a boolean parameter")}return bb.keepInvalid=c,a4},a4.datepickerInput=function(c){if(0===arguments.length){return bb.datepickerInput}if("string"!=typeof c){throw new TypeError("datepickerInput() expects a string parameter")}return bb.datepickerInput=c,a4},a4.disabledTimeIntervals=function(c){if(0===arguments.length){return bb.disabledTimeIntervals?e.extend({},bb.disabledTimeIntervals):bb.disabledTimeIntervals}if(!c){return bb.disabledTimeIntervals=!1,ab(),a4}if(!(c instanceof Array)){throw new TypeError("disabledTimeIntervals() expects an array parameter")}return bb.disabledTimeIntervals=c,ab(),a4},a4.disabledHours=function(g){if(0===arguments.length){return bb.disabledHours?e.extend({},bb.disabledHours):bb.disabledHours}if(!g){return bb.disabledHours=!1,ab(),a4}if(!(g instanceof Array)){throw new TypeError("disabledHours() expects an array parameter")}if(bb.disabledHours=aI(g),bb.enabledHours=!1,bb.useCurrent&&!bb.keepInvalid){for(var h=0;!an(a3,"h");){if(a3.add(1,"h"),24===h){throw"Tried 24 times to find a valid date"}h++}aJ(a3)}return ab(),a4},a4.enabledHours=function(g){if(0===arguments.length){return bb.enabledHours?e.extend({},bb.enabledHours):bb.enabledHours}if(!g){return bb.enabledHours=!1,ab(),a4}if(!(g instanceof Array)){throw new TypeError("enabledHours() expects an array parameter")}if(bb.enabledHours=aI(g),bb.disabledHours=!1,bb.useCurrent&&!bb.keepInvalid){for(var h=0;!an(a3,"h");){if(a3.add(1,"h"),24===h){throw"Tried 24 times to find a valid date"}h++}aJ(a3)}return ab(),a4},a4.viewDate=function(c){if(0===arguments.length){return a2.clone()}if(!c){return a2=a3.clone(),a4}if(!("string"==typeof c||d.isMoment(c)||c instanceof Date)){throw new TypeError("viewDate() parameter must be one of [string, moment or Date]")}return a2=aL(c),av(),a4},bc.is("input")){a9=bc}else{if(a9=bc.find(bb.datepickerInput),0===a9.size()){a9=bc.find("input")}else{if(!a9.is("input")){throw new Error('CSS class "'+bb.datepickerInput+'" cannot be applied to non input element')}}}if(bc.hasClass("input-group")&&(a0=0===bc.find(".datepickerbutton").size()?bc.find('[class^="input-group-"]'):bc.find(".datepickerbutton")),!bb.inline&&!a9.is("input")){throw new Error("Could not initialize DateTimePicker without an input element")}return e.extend(!0,bb,ay()),a4.options(bb),af(),aH(),a9.prop("disabled")&&a4.disable(),a9.is("input")&&0!==a9.val().trim().length?aJ(aL(a9.val().trim())):bb.defaultDate&&void 0===a9.attr("placeholder")&&aJ(bb.defaultDate),bb.inline&&aF(),a4};e.fn.datetimepicker=function(a){return this.each(function(){var b=e(this);b.data("DateTimePicker")||(a=e.extend(!0,{},e.fn.datetimepicker.defaults,a),b.data("DateTimePicker",f(b,a)))})},e.fn.datetimepicker.defaults={format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:d.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(b){if(b){var g=this.date()||d();b.find(".datepicker").is(":visible")?this.date(g.clone().subtract(7,"d")):this.date(g.clone().add(1,"m"))}},down:function(b){if(!b){return void this.show()}var g=this.date()||d();b.find(".datepicker").is(":visible")?this.date(g.clone().add(7,"d")):this.date(g.clone().subtract(1,"m"))},"control up":function(b){if(b){var g=this.date()||d();b.find(".datepicker").is(":visible")?this.date(g.clone().subtract(1,"y")):this.date(g.clone().add(1,"h"))}},"control down":function(b){if(b){var g=this.date()||d();b.find(".datepicker").is(":visible")?this.date(g.clone().add(1,"y")):this.date(g.clone().subtract(1,"h"))}},left:function(b){if(b){var g=this.date()||d();b.find(".datepicker").is(":visible")&&this.date(g.clone().subtract(1,"d"))}},right:function(b){if(b){var g=this.date()||d();b.find(".datepicker").is(":visible")&&this.date(g.clone().add(1,"d"))}},pageUp:function(b){if(b){var g=this.date()||d();b.find(".datepicker").is(":visible")&&this.date(g.clone().subtract(1,"M"))}},pageDown:function(b){if(b){var g=this.date()||d();b.find(".datepicker").is(":visible")&&this.date(g.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(b){b.find(".timepicker").is(":visible")&&b.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(d())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}});var Student=Backbone.Model.extend({defaults:function(){return{marks:new MarksCollection()}}});var Lesson=Backbone.Model.extend({defaults:function(){return{marks:new MarksCollection()}},toJSON:function(){return{date:this.get("date"),description:this.get("description"),lesson_type:this.get("lesson_type"),score_ignore:this.get("score_ignore")}},save:function(){$.ajax({url:this.get("update-lesson"),data:this.toJSON(),method:"POST"}).done(function(){loadToContent(window.location)})}});var LessonEditorView=Backbone.View.extend({events:{"change input":"changed","change select":"changed","input textarea":"changed","click .save":"save","dp.change":"changed"},constructor:function(b,a){Backbone.View.apply(this,arguments);this.lastLessonView=null;$(this.el.date).datetimepicker({inline:true,format:"YYYY-MM-DD",locale:"ru"});var c=this;this.styles={1:"",2:"test",3:"lect",4:"laba",5:"exam"}},save:function(a){a.preventDefault();if(this.lastLessonView){this.lastLessonView.model.save()}},onMouseOver:function(c){if(!this.$el.hasClass("lesson-editor-visible")){return}var d=2;var b=this.$el[0].getBoundingClientRect();var a=c.clientX;var f=c.clientY;if(b.left-a>d||b.top-f>20*d||a-(b.left+b.width)>d||f-(b.top+b.height)>d){this.$el.removeClass("lesson-editor-visible");this.$el.fadeOut("fast");$(document).off("mouseover.lessonEditor")}},changed:function(){if(this.lastLessonView){this.lastLessonView.model.set({description:this.el.description.value,lesson_type:this.el.lesson_type.value,style:this.styles[this.el.lesson_type.value],score_ignore:this.el.score_ignore.checked,date:this.el.date.value})}},render:function(){if(this.lastLessonView){this.el.description.value=this.lastLessonView.model.get("description");this.el.lesson_type.value=this.lastLessonView.model.get("lesson_type");this.el.score_ignore.checked=this.lastLessonView.model.get("score_ignore");this.el.date.value=this.lastLessonView.model.get("date");$(this.el.date).data("DateTimePicker").date(this.lastLessonView.model.get("date"))}return this},show:function(d){this.$el.addClass("lesson-editor-visible");var b=this;$(document).on("mouseover.lessonEditor",function(f){b.onMouseOver(f)});this.$el.fadeIn("fast");if(d==this.lastLessonView){return}this.lastLessonView=d;var a=this.$el.width();var c=d.$el.parents("td");var e=c.offset();this.$el.offset({left:e.left-a/2,top:e.top+c.height()});this.render()}});var LessonView=Backbone.View.extend({constructor:function(b,a){Backbone.View.apply(this,arguments);this.lessonEditor=a.lessonEditor;_.bindAll(this,"render");this.model.bind("change",this.render)},events:{click:"openEditor"},render:function(){this.$el.removeClass();this.$el.addClass(["mark t-cell t-cell-head",this.model.get("style")].join(" "));this.$el.find(".label").html(this.model.get("date").split("-").pop())},openEditor:function(){this.lessonEditor.show(this)}});var Mark=Backbone.Model.extend({constructor:function(){Backbone.Model.apply(this,arguments);this.old_value=this.get("value")},is_changed:function(){return this.get("value")!=this.old_value},reset:function(){this.old_value=this.get("value");this.trigger("change",this)},toJSON:function(){return{student_id:this.get("student").id,lesson_id:this.get("lesson").id,value:this.get("value")}}});var last_offset={left:-1,top:-1};var MARK_BASE=0;var MARK_SPECIAL=1000;var MARK_BLACK_HOLE=MARK_BASE-(MARK_SPECIAL+1);var MARK_ABSENT=MARK_BASE-2;var MARK_EMPTY=MARK_BASE;var MARK_NORMAL=MARK_BASE+1;var MARK_GOOD=MARK_BASE+2;var MARK_EXCELLENT=MARK_BASE+3;var MARK_AWESOME=MARK_BASE+4;var MARK_FANTASTIC=MARK_BASE+5;var MARK_INCREDIBLE=MARK_BASE+6;var MARK_SHINING=MARK_BASE+(MARK_SPECIAL+1);var MARK_MERCY=MARK_BASE+(MARK_SPECIAL+2);var MARK_KEEP=MARK_BASE+(MARK_SPECIAL+3);mark_styles={};mark_styles[MARK_BLACK_HOLE]="black-hole";mark_styles[MARK_ABSENT]="absent";mark_styles[MARK_EMPTY]="empty";mark_styles[MARK_NORMAL]="normal";mark_styles[MARK_GOOD]="good";mark_styles[MARK_EXCELLENT]="excellent";mark_styles[MARK_AWESOME]="awesome";mark_styles[MARK_FANTASTIC]="fantastic";mark_styles[MARK_INCREDIBLE]="incredible";mark_styles[MARK_SHINING]="shining";mark_styles[MARK_MERCY]="mercy";var MarkView=Backbone.View.extend({initialize:function(){_.bindAll(this,"render");this.model.on("change",this.render);this.model.get("lesson").on("change:style",this.render)},events:{click:"showMarkSelector"},render:function(){this.$el.attr("class",null);this.$el.addClass(["t-cell","mark",this.model.get("lesson").get("style"),mark_styles[this.model.get("value")],this.model.is_changed()?"modified":""].join(" "));return this},markSelectorItemChoose:function(b){var a=$(b).data("value");this.new_style=$(b).data("class");this.model.set("value",a);$mark_selector.hide()},showMarkSelector:function(){var d=this;$mark_selector=$("#mark-selector");$mark_selector.find("li").unbind("click");$mark_selector.find("li").one("click",function(){d.markSelectorItemChoose(this)});d.class_list=[];$mark_selector.find("li").each(function(j,k){d.class_list.push($(k).data("class"))});var c=d.$el.offset();var a=d.el.clientWidth*1.1;var i=d.el.clientHeight;var g=28;var h=$mark_selector.find("ul").first().width();var f=$mark_selector.show().offset({left:c.left-h/2+a/2,top:c.top-h/2+i/2}).find("li");last_offset.left=c.left+(a-g)/2;last_offset.top=c.top+(i-g)/2;if(f.size()){var e=35;var b=2*Math.PI/(f.size());f.each(function(k,l){var j=$(l).data("value");if(j!=d.model.get("value")){$(l).offset({left:last_offset.left+e*Math.cos(k*b),top:last_offset.top+e*Math.sin(k*b)})}else{$(l).offset({left:last_offset.left,top:last_offset.top})}})}$mark_selector.find(".mark").removeClass("lect exam test current");$mark_selector.find(".mark").toggleClass(this.model.get("lesson").get("style"),true)}});$("#mark-selector");var LessonsCollection=Backbone.Collection.extend({model:Lesson});var StudentsCollection=Backbone.Collection.extend({model:Student});var MarksCollection=Backbone.Collection.extend({initialize:function(b,a){if(a){this.urls=a.urls}},model:Mark,save:function(){var a=new MarksCollection(this.filter(function(b){return b.is_changed()}));$.ajax({url:this.urls.save_marks,data:JSON.stringify(a.toJSON()),method:"POST",contentType:"application/json; charset=utf-8",dataType:"json"});a.forEach(function(b){b.reset()});loadToContent(window.location)}});var MarksCollectionSaveButton=Backbone.View.extend({events:{click:"save"},save:function(){this.collection.save()},render:function(){return this}});function EditorController(c){var b=new LessonsCollection([],c);var f=new StudentsCollection([],c);var d=new MarksCollection([],c);var a=new LessonEditorView({el:"#lesson-editor"});new MarksCollectionSaveButton({collection:d,el:".btn-save-marks"});function e(){$(".m-table .t-header .mark").each(function(g,i){var j=$(i).data();var h=new Lesson({id:j.id,date:j.date,style:j.style,description:j.description,lesson_type:j.lessonType,score_ignore:j.scoreIgnore=="True","update-lesson":j.updateLesson});new LessonView({model:h,el:i},{lessonEditor:a});b.add(h)});$(".s-table .t-content .t-row").each(function(g,i){var j=$(i).data();var h=new Student({id:j.id});f.add(h)});$(".m-table .t-content .t-cell.mark").each(function(g,j){var k=$(j).data();if(k.lesson&&k.student){var h=b.get(k.lesson);var i=f.get(k.student);var l=new Mark({student:i,lesson:h,lesson_type:k.lessonType,value:k.value});new MarkView({model:l,el:j});h.get("marks").add(l);d.add(l)}})}e()};