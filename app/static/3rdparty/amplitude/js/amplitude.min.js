var Amplitude=function(){function e(e){if(!ot.initialized){ot.debug=void 0!=e.debug?e.debug:!1;var t=!1;e.songs?0!=e.songs.length?(ot.songs=e.songs,t=!0):H("Please add some songs, to your songs object!"):H("Please provide a songs object for AmplitudeJS to run!"),t&&(ot.soundcloud_client=void 0!=e.soundcloud_client?e.soundcloud_client:"",ot.soundcloud_use_art=void 0!=e.soundcloud_use_art?e.soundcloud_use_art:"",""!=ot.soundcloud_client?(lt=e,Y()):N(e))}}function t(e){ot.debug=e}function a(){return ot.active_metadata}function n(e,t){ot.visualizations[e.getID]=e,void 0!=t&&e.setPreferences(t)}function s(e){F(),ot.active_visualization=e,$()}function o(){return window.AudioContext?!0:!1}function l(e){return ot.songs[e]}function u(e){return ot.songs.push(e),ot.songs.length-1}function r(e){ot.active_song.src=e.url,ot.active_metadata=e,ot.active_album=e.album,document.querySelector('[amplitude-main-play-pause="true"]')&&(main_control=document.querySelector('[amplitude-main-play-pause="true"]'),main_control.classList.add("amplitude-playing"),main_control.classList.remove("amplitude-paused")),D()}function c(){X("before_play"),ot.active_metadata.live&&f(),ot.active_song.play(),X("after_play")}function d(){ot.active_song.pause(),ot.active_metadata.live&&g()}function m(){X("before_stop"),ot.active_song.currentTime=0,ot.active_song.pause(),ot.active_metadata.live&&g(),X("after_stop")}function _(e){ot.active_song.volume=e/100}function v(e){ot.active_metadata.live||(ot.active_song.currentTime=ot.active_song.duration*(e/100))}function g(){ot.active_song.src="",ot.active_song.load()}function f(){ot.active_song.src=ot.active_metadata.url,ot.active_song.load()}function p(){var e=this.getAttribute("amplitude-song-index");V(e)?(M(),P(),this.classList.add("amplitude-playing"),this.classList.remove("amplitude-paused"),document.querySelector('[amplitude-main-play-pause="true"]')&&(main_control=document.querySelector('[amplitude-main-play-pause="true"]'),main_control.classList.add("amplitude-playing"),main_control.classList.remove("amplitude-paused")),$(),c()):ot.active_song.paused?(this.classList.add("amplitude-playing"),this.classList.remove("amplitude-paused"),document.querySelector('[amplitude-main-play-pause="true"]')&&(main_control=document.querySelector('[amplitude-main-play-pause="true"]'),main_control.classList.add("amplitude-playing"),main_control.classList.remove("amplitude-paused")),$(),c(this.getAttribute("amplitude-song-index"))):(this.classList.add("amplitude-paused"),this.classList.remove("amplitude-playing"),document.querySelector('[amplitude-main-play-pause="true"]')&&(main_control=document.querySelector('[amplitude-main-play-pause="true"]'),main_control.classList.add("amplitude-paused"),main_control.classList.remove("amplitude-playing")),d())}function h(){var e=this.getAttribute("amplitude-song-index");V(e)&&P(),$(),c()}function b(){d()}function y(){F(),m()}function x(){0==ot.volume?ot.volume=ot.pre_mute_volume:(ot.pre_mute_volume=ot.volume,ot.volume=0),_(100*ot.volume),C()}function S(){ot.volume=100*ot.volume+ot.volume_increment<=100?ot.volume+ot.volume_increment/100:1,_(100*ot.volume),C()}function L(){ot.volume=100*ot.volume-ot.volume_decrement>0?ot.volume-ot.volume_decrement/100:0,_(100*ot.volume),C()}function A(){ot.volume=this.value/100,_(this.value),C()}function E(){ot.active_song.paused||(this.getAttribute("amplitude-singular-song-slider")&&v(this.value),this.getAttribute("amplitude-song-index")==ot.active_index&&v(this.value))}function q(){X("before_next"),m(),ot.shuffle_on?parseInt(ot.shuffle_active_index)+1<ot.shuffle_list.length?(j(ot.suffle_list[parseInt(ot.shuffle_active_index)+1].album),ot.active_song.src=ot.shuffle_list[parseInt(ot.shuffle_active_index)+1].url,ot.active_metadata=ot.shuffle_list[parseInt(ot.shuffle_active_index)+1],ot.active_album=ot.shuffle_list[parseInt(ot.shuffle_active_index)+1].album,ot.album_change&&(X("after_album_change"),ot.album_change=!1),ot.shuffle_active_index=parseInt(ot.shuffle_active_index)+1):(j(ot.suffle_list[0].album),ot.active_song.src=ot.shuffle_list[0].url,ot.active_metadata=ot.shuffle_list[0],ot.active_album=ot.shuffle_list[0].album,ot.album_change&&(X("after_album_change"),ot.album_change=!1),ot.shuffle_active_index=0):parseInt(ot.active_index)+1<ot.songs.length?(j(ot.songs[parseInt(ot.active_index)+1].album),ot.active_song.src=ot.songs[parseInt(ot.active_index)+1].url,ot.active_metadata=ot.songs[parseInt(ot.active_index)+1],ot.active_album=ot.songs[parseInt(ot.active_index)+1].album,ot.album_change&&(X("after_album_change"),ot.album_change=!1),ot.active_index=parseInt(ot.active_index)+1):(j(ot.songs[0].album),ot.active_song.src=ot.songs[0].url,ot.active_metadata=ot.songs[0],ot.active_album=ot.songs[0].album,ot.album_change&&(X("after_album_change"),ot.album_change=!1),ot.active_index=0),document.querySelector('[amplitude-main-play-pause="true"]')&&(main_control=document.querySelector('[amplitude-main-play-pause="true"]'),main_control.classList.add("amplitude-playing"),main_control.classList.remove("amplitude-paused")),D(),X("after_next")}function z(){X("before_prev"),m(),ot.shuffle_on?parseInt(ot.shuffle_active_index)-1>=0?(j(ot.suffle_list[parseInt(ot.shuffle_active_index)-1].album),ot.active_song.src=ot.shuffle_list[parseInt(ot.shuffle_active_index)-1].url,ot.active_metadata=ot.shuffle_list[parseInt(ot.shuffle_active_index)-1],ot.active_album=ot.shuffle_list[parseInt(ot.shuffle_active_index)-1].album,ot.album_change&&(X("after_album_change"),ot.album_change=!1),ot.shuffle_active_index=parseInt(ot.shuffle_active_index)-1):(j(ot.suffle_list[parseInt(ot.shuffle_list.length-1)].album),ot.active_song.src=ot.shuffle_list[parseInt(ot.shuffle_list.length-1)].url,ot.active_metadata=ot.shuffle_list[parseInt(ot.shuffle_list.length-1)],ot.active_album=ot.shuffle_list[parseInt(ot.shuffle_list.length-1)].album,ot.album_change&&(X("after_album_change"),ot.album_change=!1),ot.shuffle_active_index=parseInt(ot.shuffle_list.length)-1):parseInt(ot.active_index)-1>=0?(j(ot.songs[parseInt(ot.active_index)-1].album),ot.active_song.src=ot.songs[parseInt(ot.active_index)-1].url,ot.active_metadata=ot.songs[parseInt(ot.active_index)-1],ot.active_album=ot.songs[parseInt(ot.active_index)-1].album,ot.album_change&&(X("after_album_change"),ot.album_change=!1),ot.active_index=parseInt(ot.active_index)-1):(j(ot.songs[ot.songs.length-1].album),ot.active_song.src=ot.songs[ot.songs.length-1].url,ot.active_metadata=ot.songs[ot.songs.length-1],ot.active_album=ot.songs[ot.songs.length-1].album,ot.album_change&&(X("after_album_change"),ot.album_change=!1),ot.active_index=parseInt(ot.songs.length)-1),document.querySelector('[amplitude-main-play-pause="true"]')&&(main_control=document.querySelector('[amplitude-main-play-pause="true"]'),main_control.classList.add("amplitude-playing"),main_control.classList.remove("amplitude-paused")),D(),X("after_prev")}function I(){ot.shuffle_on?(ot.shuffle_on=!1,ot.shuffle_list={},ot.shuffle_active_index=0):(ot.shuffle_on=!0,Q()),O()}function M(){for(var e=document.getElementsByClassName("amplitude-play-pause"),t=0;t<e.length;t++)e[t].classList.add("amplitude-paused"),e[t].classList.remove("amplitude-playing")}function P(){for(var e=document.getElementsByClassName("amplitude-song-slider"),t=0;t<e.length;t++)e[t].value=0}function C(){for(var e=document.getElementsByClassName("amplitude-volume-slider"),t=0;t<e.length;t++)e[t].value=100*ot.active_song.volume}function B(){window.AudioContext||k()}function k(){switch(ot.visualization_backup){case"nothing":document.getElementById("amplitude-visualization")&&document.getElementById("amplitude-visualization").remove();break;case"album-art":var e=document.getElementById("amplitude-visualization");if(e){var t=e.parentNode,a=document.createElement("img");a.setAttribute("amplitude-song-info","cover"),a.setAttribute("class","amplitude-album-art"),document.querySelector('[amplitude-song-info="cover"]')&&(void 0!=ot.active_metadata.cover_art_url?(a.setAttribute("src",ot.active_metadata.cover_art_url),document.querySelector('[amplitude-song-info="cover"]').setAttribute("src",ot.active_metadata.cover_art_url)):""!=ot.default_album_art?a.setAttribute("src",ot.default_album_art):a.setAttribute("src","")),t.replaceChild(a,e)}}}function T(){for(var e=document.getElementsByClassName("amplitude-current-minutes"),t=0;t<e.length;t++)e[t].innerHTML="0";for(var a=document.getElementsByClassName("amplitude-current-seconds"),t=0;t<a.length;t++)a[t].innerHTML="00"}function w(){for(var e=document.getElementsByClassName("amplitude-song-container"),t=0;t<e.length;t++)e[t].classList.remove("amplitude-active-song-container")}function O(){for(var e=document.getElementsByClassName("amplitude-shuffle"),t=0;t<e.length;t++)ot.shuffle_on?(e[t].classList.add("amplitude-shuffle-on"),e[t].classList.remove("amplitude-shuffle-off")):(e[t].classList.remove("amplitude-shuffle-on"),e[t].classList.add("amplitude-shuffle-off"))}function N(e){void 0!=e.start_song?(ot.active_song.src=ot.songs[e.start_song].url,ot.active_metadata=ot.songs[e.start_song],ot.active_album=ot.songs[e.start_song].album,ot.active_index=e.start_song):(ot.active_song.src=ot.songs[0].url,ot.active_metadata=ot.songs[0],ot.active_album=ot.songs[0].album,ot.active_index=0),void 0==ot.active_metadata.live&&(ot.active_metadata.live=!1),ot.active_song.preload=void 0!=e.preload?e.preload:"metadata",ot.callbacks=void 0!=e.callbacks?e.callbacks:{},ot.volume=void 0!=e.volume?e.volume:.5,ot.visualization_backup=void 0!=e.visualization_backup?e.visualization_backup:"nothing",ot.pre_mute_volume=void 0!=e.volume?e.volume:.5,ot.volume_increment=void 0!=e.volume_increment?e.volume_increment:5,ot.volume_decrement=void 0!=e.volume_decrement?e.volume_decrement:5,ot.default_album_art=void 0!=e.default_album_art?e.default_album_art:"",ot.active_song.volume=ot.volume,ot.handle_song_elements=void 0!=e.handle_song_elements?e.handle_song_elements:!0,ot.song_ended_callback=void 0!=e.song_ended_callback?e.song_ended_callback:"",ot.active_metadata.live?(k(),st.disconnect(0),nt.disconnect(0),it.close()):ot.active_song.crossOrigin="anonymous",ot.initialized=!0,C(),B(),T(),P(),W(),ot.handle_song_elements&&G(),w(),K(),lt={}}function H(e){ot.debug&&console.log(e)}function V(e){return null!=e&&e!=ot.active_index?(m(),j(ot.songs[e].album),ot.active_song.src=ot.songs[e].url,ot.active_metadata=ot.songs[e],ot.active_album=ot.songs[e].album,ot.album_change&&(X("after_album_change"),ot.album_change=!1),ot.active_index=e,ot.handle_song_elements&&G(),T(),W(),K(),!0):!1}function j(e){ot.active_album!=e&&(ot.album_change=!0,X("before_album_change"))}function D(){W()&&$(),ot.handle_song_elements&&G(),P(),T(),w(),K(),c()}function W(){var e=!1;return ot.active_metadata.visualization&&(ot.active_metadata.visualization!=ot.active_visualization&&""!=ot.active_visualization&&(F(),e=!0),ot.active_visualization=ot.active_metadata.visualization),e}function U(){ot.songs.length>1&&(m(),ot.shuffle_on?parseInt(ot.shuffle_active_index)+1<ot.shuffle_list.length?(ot.active_song.src=ot.shuffle_list[parseInt(ot.shuffle_active_index)+1].url,ot.active_metadata=ot.shuffle_list[parseInt(ot.shuffle_active_index)+1],ot.shuffle_active_index=parseInt(ot.shuffle_active_index)+1):(ot.active_song.src=ot.shuffle_list[0].url,ot.active_metadata=ot.shuffle_list[0],ot.shuffle_active_index=0):parseInt(ot.active_index)+1<ot.songs.length?(ot.active_song.src=ot.songs[parseInt(ot.active_index)+1].url,ot.active_metadata=ot.songs[parseInt(ot.active_index)+1],ot.active_index=parseInt(ot.active_index)+1):(ot.active_song.src=ot.songs[0].url,ot.active_metadata=ot.songs[0],ot.active_index=0),D()),X("after_song_ended")}function J(){var e=(Math.floor(ot.active_song.currentTime%60)<10?"0":"")+Math.floor(ot.active_song.currentTime%60),t=Math.floor(ot.active_song.currentTime/60),a=(Math.floor(ot.active_song.duration%60)<10?"0":"")+Math.floor(ot.active_song.duration%60),i=Math.floor(ot.active_song.duration/60),n="";n=document.querySelector(document.querySelector('[amplitude-singular-song-slider="true"]')?'[amplitude-singular-song-slider="true"]':'input[amplitude-song-index="'+ot.active_index+'"]');var s="";if(s=document.querySelector(document.querySelector('[amplitude-single-song-time-visualization="true"]')?'[amplitude-single-song-time-visualization="true"]':'.amplitude-song-time-visualization[amplitude-song-index="'+ot.active_index+'"]'),document.querySelector('[amplitude-single-current-minutes="true"]')?document.querySelector('[amplitude-single-current-minutes="true"]').innerHTML=t:document.querySelector('.amplitude-current-minutes[amplitude-song-index="'+ot.active_index+'"]')&&(document.querySelector('.amplitude-current-minutes[amplitude-song-index="'+ot.active_index+'"]').innerHTML=t),document.querySelector('[amplitude-single-current-seconds="true"]')?document.querySelector('[amplitude-single-current-seconds="true"]').innerHTML=e:document.querySelector('.amplitude-current-seconds[amplitude-song-index="'+ot.active_index+'"]')&&(document.querySelector('.amplitude-current-seconds[amplitude-song-index="'+ot.active_index+'"]').innerHTML=e),ot.active_metadata.live||(document.querySelector('[amplitude-single-duration-seconds="true"]')?document.querySelector('[amplitude-single-duration-seconds="true"]').innerHTML=a:document.querySelector('.amplitude-duration-seconds[amplitude-song-index="'+ot.active_index+'"]')&&(document.querySelector('.amplitude-duration-seconds[amplitude-song-index="'+ot.active_index+'"]').innerHTML=a),document.querySelector('[amplitude-single-duration-minutes="true"]')?document.querySelector('[amplitude-single-duration-minutes="true"]').innerHTML=i:document.querySelector('.amplitude-duration-minutes[amplitude-song-index="'+ot.active_index+'"]')&&(document.querySelector('.amplitude-duration-minutes[amplitude-song-index="'+ot.active_index+'"]').innerHTML=i)),!ot.active_metadata.live&&n&&(n.value=void 0!=ot.active_metadata.duration?ot.active_song.currentTime/ot.active_metadata.duration*1e3*100:ot.active_song.currentTime/ot.active_song.duration*100),!ot.active_metadata.live&&s){var o=s.querySelectorAll(".amplitude-song-time-visualization-status"),l=s.offsetWidth;o[0].setAttribute("style","width:"+l*(ot.active_song.currentTime/ot.active_song.duration)+"px")}}function $(){if(!ot.visualization_started&&Object.keys(ot.visualizations).length>0){if(""!=ot.active_visualization)ot.visualizations[ot.active_visualization].startVisualization(ot.active_song),ot.current_visualization=ot.visualizations[ot.active_visualization];else{for(first_visualization in ot.visualizations);ot.visualizations[first_visualization].startVisualization(ot.active_song),ot.current_visualization=ot.visualizations[first_visualization]}ot.visualization_started=!0}}function F(){ot.visualization_started&&Object.keys(ot.visualizations).length>0&&(ot.current_visualization.stopVisualization(),ot.visualization_started=!1)}function G(){if(document.querySelector('[amplitude-song-info="name"]')&&(document.querySelector('[amplitude-song-info="name"]').innerHTML=ot.active_metadata.name),document.querySelector('[amplitude-song-info="artist"]')&&(document.querySelector('[amplitude-song-info="artist"]').innerHTML=ot.active_metadata.artist),document.querySelector('[amplitude-song-info="album"]')&&(document.querySelector('[amplitude-song-info="album"]').innerHTML=ot.active_metadata.album),document.querySelector('[amplitude-song-info="cover"]')){var e=document.querySelectorAll('[amplitude-song-info="cover"]');for(i=0;i<e.length;i++)void 0!=ot.active_metadata.cover_art_url?e[i].setAttribute("src",ot.active_metadata.cover_art_url):""!=ot.default_album_art?e[i].setAttribute("src",ot.default_album_art):e[i].setAttribute("src","")}if(document.querySelector('[amplitude-song-info="call-sign"]')&&(document.querySelector('[amplitude-song-info="call-sign"]').innerHTML=ot.active_metadata.call_sign),document.querySelector('[amplitude-song-info="station-name"]')&&(document.querySelector('[amplitude-song-info="station-name"]').innerHTML=ot.active_metadata.station_name),document.querySelector('[amplitude-song-info="location"]')&&(document.querySelector('[amplitude-song-info="location"]').innerHTML=ot.active_metadata.location),document.querySelector('[amplitude-song-info="frequency"]')&&(document.querySelector('[amplitude-song-info="frequency"]').innerHTML=ot.active_metadata.frequency),document.querySelector('[amplitude-song-info="station-art"]')){var e=document.querySelectorAll('[amplitude-song-info="station-art"]');for(i=0;i<e.length;i++)void 0!=ot.active_metadata.cover_art_url?e[i].setAttribute("src",ot.active_metadata.station_art_url):""!=ot.default_album_art?e[i].setAttribute("src",ot.default_album_art):e[i].setAttribute("src","")}}function K(){var e=document.getElementsByClassName("amplitude-song-container");for(i=0;i<e.length;i++)e[i].classList.remove("amplitude-active-song-container");document.querySelector('.amplitude-song-container[amplitude-song-index="'+ot.active_index+'"]')&&document.querySelector('.amplitude-song-container[amplitude-song-index="'+ot.active_index+'"]').classList.add("amplitude-active-song-container")}function Q(){var e=new Array(ot.songs.length);for(i=0;i<ot.songs.length;i++)e[i]=ot.songs[i];for(i=ot.songs.length-1;i>0;i--)rand_num=Math.floor(Math.random()*ot.songs.length+1),R(e,i,rand_num-1);ot.shuffle_list=e}function R(e,t,a){var i=e[t];e[t]=e[a],e[a]=i}function X(e){if(ot.callbacks[e]){var t=window[ot.callbacks[e]];t()}}function Y(){var e=document.getElementsByTagName("head")[0],t=document.createElement("script");t.type="text/javascript",t.src="https://connect.soundcloud.com/sdk.js",t.onreadystatechange=Z,t.onload=Z,e.appendChild(t)}function Z(){SC.initialize({client_id:ot.soundcloud_client}),et()}function et(){for(var e=/^https?:\/\/(soundcloud.com|snd.sc)\/(.*)$/,t=0;t<ot.songs.length;t++)ot.songs[t].url.match(e)&&(ot.soundcloud_song_count++,tt(ot.songs[t].url,t))}function tt(e,t){SC.get("/resolve/?url="+e,function(e){e.streamable?(ot.songs[t].url=e.stream_url+"?client_id="+ot.soundcloud_client,ot.soundcloud_use_art&&(ot.songs[t].cover_art_url=e.artwork_url),ot.songs[t].soundcloud_data=e):ot.debug&&H(ot.songs[t].name+" by "+ot.songs[t].artist+" is not streamable by the Soundcloud API"),ot.soundcloud_songs_ready++,ot.soundcloud_songs_ready==ot.soundcloud_song_count&&N(lt)})}function at(){ot.active_song.addEventListener("timeupdate",J),ot.active_song.addEventListener("ended",U);for(var e=document.getElementsByClassName("amplitude-play"),t=0;t<e.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?e[t].addEventListener("touchstart",h):e[t].addEventListener("click",h);for(var a=document.getElementsByClassName("amplitude-pause"),t=0;t<a.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?a[t].addEventListener("touchstart",b):a[t].addEventListener("click",b);for(var i=document.getElementsByClassName("amplitude-stop"),t=0;t<i.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?i[t].addEventListener("touchstart",y):i[t].addEventListener("click",y);for(var n=document.getElementsByClassName("amplitude-play-pause"),t=0;t<n.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?n[t].addEventListener("touchstart",p):n[t].addEventListener("click",p);for(var s=document.getElementsByClassName("amplitude-mute"),t=0;t<s.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?/iPhone|iPad|iPod/i.test(navigator.userAgent)?H("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):s[t].addEventListener("touchstart",x):s[t].addEventListener("click",x);for(var o=document.getElementsByClassName("amplitude-volume-up"),t=0;t<o.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?/iPhone|iPad|iPod/i.test(navigator.userAgent)?H("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):o[t].addEventListener("touchstart",S):o[t].addEventListener("click",S);for(var l=document.getElementsByClassName("amplitude-volume-down"),t=0;t<l.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?/iPhone|iPad|iPod/i.test(navigator.userAgent)?H("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):l[t].addEventListener("touchstart",L):l[t].addEventListener("click",L);for(var u=document.getElementsByClassName("amplitude-song-slider"),t=0;t<u.length;t++)u[t].addEventListener("input",E);for(var r=document.getElementsByClassName("amplitude-volume-slider"),t=0;t<r.length;t++)/iPhone|iPad|iPod/i.test(navigator.userAgent)?H("iOS does NOT allow volume to be set through javascript: https://developer.apple.com/library/safari/documentation/AudioVideo/Conceptual/Using_HTML5_Audio_Video/Device-SpecificConsiderations/Device-SpecificConsiderations.html#//apple_ref/doc/uid/TP40009523-CH5-SW4"):r[t].addEventListener("input",A);for(var c=document.getElementsByClassName("amplitude-next"),t=0;t<c.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?c[t].addEventListener("touchstart",q):c[t].addEventListener("click",q);for(var d=document.getElementsByClassName("amplitude-prev"),t=0;t<d.length;t++)/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?d[t].addEventListener("touchstart",z):d[t].addEventListener("click",z);for(var m=document.getElementsByClassName("amplitude-shuffle"),t=0;t<m.length;t++)m[t].classList.remove("amplitude-shuffle-on"),m[t].classList.add("amplitude-shuffle-off"),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?m[t].addEventListener("touchstart",I):m[t].addEventListener("click",I);for(var _=document.getElementsByClassName("amplitude-song-time-visualization"),t=0;t<_.length;t++){var v=document.createElement("div");v.classList.add("amplitude-song-time-visualization-status"),v.setAttribute("style","width: 0px"),_[t].appendChild(v)}}document.onreadystatechange=function(){"complete"==document.readyState&&at()};var it,nt,st,ot={active_song:new Audio,active_metadata:{},active_album:"",active_index:0,album_change:!1,callbacks:{},songs:{},shuffle_list:{},shuffle_on:!1,shuffle_active_index:0,default_album_art:"",debug:!1,initialized:!1,handle_song_elements:!0,volume:.5,pre_mute_volume:.5,volume_increment:5,volume_decrement:5,visualizations:new Array,active_visualization:"",current_visualization:{},visualization_started:!1,visualization_backup:"",song_ended_callback:"",soundcloud_client:"",soundcloud_use_art:!1,soundcloud_song_count:0,soundcloud_songs_ready:0},lt={};return window.AudioContext&&(it=new AudioContext,nt=it.createAnalyser(),st=it.createMediaElementSource(ot.active_song),st.connect(nt),nt.connect(it.destination)),{init:e,setDebug:t,getActiveSongMetadata:a,getSongByIndex:l,playNow:r,registerVisualization:n,visualizationCapable:o,changeVisualization:s,addSong:u,analyser:nt,source:st}}();