@import "common/const";
@import "common/spec-buttons";
@import "common/admin_panel";
@import "bootstrap_custom";
@import "custom-fonts";

$nav-height: 50px;

body {
  @include transition(0.3s);
  font-family: Georgia, "Times New Roman", Times, serif !important;
  background-color: darken($base_color, 30);
  //background: url("../build/images/paisley.png");
}

#content {
  $border-color: darken($base_color, 40);
  background: white;

  @media (min-width: $width-medium) {
    border-left: 2px solid $base_color;
    border-right: 2px solid $base_color;
  }

  padding: 1em;
  @media (min-width: $width-medium) {
    margin-bottom: 50px;
    border-radius: 0 0 8px 8px;
    border-bottom: 8px solid $border-color;
  }

  @media (max-width: $width-small) {
    padding-top: 60px;
  }

  @media (max-width: $width-medium) {
    .main {
      display: none;
    }
    .full {
      li {
        float: left;
        width: 100% !important;
        max-width: none;
        a {
          min-height: auto !important;
        }
        .info {
          margin: 0 !important;
          display: inline-block !important;
          //float: left;
        }
      }
    }
     border-bottom: none;
  }
}

.main-info {
  .left, .right {
  }
  .left {

    background-color: #50b3fa
  }
  .right {
    background-color: white;
  }
}

.main-picture {

}

.container {
  padding: 0 !important;
}

#loading-screen {
  position: fixed;
  left: 0;
  right: 0;
  top: $nav-height + 2px;
  bottom: 0;
  display: none;
  .icon-container {
    position: absolute;
    top: calc(50% - 5em);
    left: calc(50% - 4.2em);
    .load-icon {
      //display: block;
      color: $base_color;
      font-size: 10em;
    }
    .info {
      //text-align: center;
      color: $base_color;
    }
  }
}

.details {
  background-color: lighten($base_color, 3);
  margin: -1em;
  ul {
    border-bottom: 0 !important;
    &.groups {
      li {
        a {
          border-top: none !important;
        }
      }
      //border-left: 2px solid $base_color;
      border-right: none !important;
    }
    &.main {
      visibility: hidden;
      max-width: $nav-height;
    }
  }
}

.menu, .details {
  position: relative;
  $height: $nav-height;
  $border_top_width: 5px;
  background-color: $base_color;
  ul {
    list-style: none;
    padding: 0;
    margin: 0;

    &.groups, &.main, &.disciplines {
      border-bottom: 2px solid $base_color;
      //z-index: 200;

      overflow: hidden;
      ////border-top: $border_top_width solid lighten($base_color, 20);
      ////height: $height;
      //background-color: $base_color;
      //
      //-webkit-transition: all 0.3s;
      //-moz-transition: all 0.3s;
      //-ms-transition: all 0.3s;
      //-o-transition: all 0.3s;
      //transition: all 0.3s;

      li {
        max-width: 50%;
        float: left;
        a {
          white-space: nowrap;
          cursor: pointer;
          position: relative;
          display: block;

          text-align: center;
          //height: $height;

          -webkit-transition: all 0.3s;
          -moz-transition: all 0.3s;
          -ms-transition: all 0.3s;
          -o-transition: all 0.3s;
          transition: all 0.3s;

          .title {
            //text-decoration: underline;
            //position: absolute;
            //left: 0;
            //right: 0;
            padding: 0.5em;
            font-size: 1.2em;
            //font-weight: bold;
            bottom: 1em;
            color: white;
          }

          &:hover {
            //.info {
            //  opacity: 1;
            //}
          }

        }
        &.active {
          a {
            cursor: auto;
            border-top: $border_top_width solid lighten($base_color, 40);
            .info {
              //opacity: 1;
            }
          }
        }
      }

      // это основные цвета для заголовка
      $colors:
      #3ec0ee,
      #3bf0b5,
      #cdf43d,
      #ffdf36,
      #ffac2b;

      @for $i from 1 to length($colors) + 1 {
        $color: nth($colors, $i);
        li:nth-child(#{$i}) {
          &:hover {
          }
          a {
            background-color: $color;
            border-top: $border_top_width solid lighten($color, 20);
            box-shadow: 0 0 6px darken($color, 20);
            &:hover {
              border-top: $border_top_width solid lighten($color, 30);
              //padding-right: 1em;
            }
            .title {
              @if ($i > 5) {
                color: black;
              }
            }
          }
          &.active {
            a {
              pointer-events: none;
              border-top: $border_top_width solid white;
              //background: white;
              .title {
                //color: $color;
                text-decoration: none;
              }
              //box-shadow: 0 0 8px darken($color, 20);
              .info {
                opacity: 1;
              }
            }
          }
        }
      }
      &.full {
        $hover-height: 4 * $height;
        //height: $hover-height;
        li {
          //&:hover {
          //  display: block;
          //  max-width: none;
          //  z-index: 100;
          //}

          a {
            //margin-top: 0.5em;
            padding-top: 1em;
            padding-bottom: 1em;
            min-height: $hover-height;
            .info {
              opacity: 1;
              display: block;
              background: transparent;
              //margin-top: $hover-height * 0.08;
              $size: 0.72 * $hover-height - $hover-height * 0.09;
              height: $size*1.25;
              width: $size*1.25;
              line-height: $size;
              border-radius: 1px;
              margin: 0 auto;
              margin-bottom: 1em;

              -webkit-transition: all 0.3s;
              -moz-transition: all 0.3s;
              -ms-transition: all 0.3s;
              -o-transition: all 0.3s;
              transition: all 0.3s;
              //border-radius: $size;
            }
          }
        }
      }
    }

    @media (max-width: $width-xsmall) {
      &.full {
        li {
          &:first-child {
            padding-top: 0.5em;
          }
          .info {
          }
          padding: 0.25em 0;
        }
      }
    }

    &.main {
      @media (min-width: $width-medium) {
        border-left: 2px solid $base_color;
      }
      float: left;
      overflow: hidden;
      li {
        a {
          box-shadow: 0 0 2px white;
          width: $nav-height;
        }
      }
    }
    &.groups {
      @media (min-width: $width-medium) {
        border-right: 2px solid $base_color;
      }
    }

    &.disciplines {
      max-height: 0;
      position: absolute;
      z-index: 100;
      -webkit-transition: all 0.3s;
      -moz-transition: all 0.3s;
      -ms-transition: all 0.3s;
      -o-transition: all 0.3s;
      transition: all 0.3s;
      &.show {
        max-height: 500px;
      }

      li {
        a {
          border-top: 0 !important;
        }
        max-width: none;
      }
    }
  }
}

@media (max-width: $width-small) {
  .menu {
    position: fixed !important;
    z-index: 100;
    width: 100%;
  }
}

.admin-line {
  margin-bottom: 0.5em;
}

.dropdown {
  clear: none;
  display: inline-block;

  .dropdown-menu {

    -webkit-transition: all 0.3s;
    -moz-transition: all 0.3s;
    -ms-transition: all 0.3s;
    -o-transition: all 0.3s;
    transition: all 0.3s;
    
    max-height: 0;
    display: block;
    overflow: hidden;
    opacity: 0;
  }

  &.open {
    .dropdown-menu {
      max-height: 300px;
      opacity: 1;
    }
  }
}

#main-page-info {
  padding: 1em;
  background-color: darken($base_color, 30);
  box-shadow: 0 4px 8px 8px darken($base_color, 41) inset;
}

#main-page-image {
  max-height: 500px;
  max-width: 100%;
  display: block;
  margin: 0 auto;
}

.main-page-info {
  text-transform: uppercase;
  color: #b7d1e5;
  text-align: center;
  font-size: 1.4em;
}